<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libdap++: dds-test.cc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dds-test.cc</h1><a href="dds-test_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">// -*- mode: c++; c-basic-offset:4 -*-</span>
00003 
00004 <span class="comment">// This file is part of libdap, A C++ implementation of the OPeNDAP Data</span>
00005 <span class="comment">// Access Protocol.</span>
00006 
00007 <span class="comment">// Copyright (c) 2002,2003 OPeNDAP, Inc.</span>
00008 <span class="comment">// Author: James Gallagher &lt;jgallagher@opendap.org&gt;</span>
00009 <span class="comment">//</span>
00010 <span class="comment">// This library is free software; you can redistribute it and/or</span>
00011 <span class="comment">// modify it under the terms of the GNU Lesser General Public</span>
00012 <span class="comment">// License as published by the Free Software Foundation; either</span>
00013 <span class="comment">// version 2.1 of the License, or (at your option) any later version.</span>
00014 <span class="comment">// </span>
00015 <span class="comment">// This library is distributed in the hope that it will be useful,</span>
00016 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00017 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00018 <span class="comment">// Lesser General Public License for more details.</span>
00019 <span class="comment">// </span>
00020 <span class="comment">// You should have received a copy of the GNU Lesser General Public</span>
00021 <span class="comment">// License along with this library; if not, write to the Free Software</span>
00022 <span class="comment">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00023 <span class="comment">//</span>
00024 <span class="comment">// You can contact OPeNDAP, Inc. at PO Box 112, Saunderstown, RI. 02874-0112.</span>
00025  
00026 <span class="comment">// (c) COPYRIGHT URI/MIT 1994-1999</span>
00027 <span class="comment">// Please read the full copyright statement in the file COPYRIGHT_URI.</span>
00028 <span class="comment">//</span>
00029 <span class="comment">// Authors:</span>
00030 <span class="comment">//      jhrg,jimg       James Gallagher &lt;jgallagher@gso.uri.edu&gt;</span>
00031 
00032 <span class="comment">// Test the DDS scanner, parser and DDS class.</span>
00033 <span class="comment">//</span>
00034 <span class="comment">// jhrg 8/29/94</span>
00035 
00036 <span class="preprocessor">#include "<a class="code" href="config__dap_8h.html">config_dap.h</a>"</span>
00037 
00038 <span class="keyword">static</span> <span class="keywordtype">char</span> rcsid[] <a class="code" href="config__dap_8h.html#a49">not_used</a> = {<span class="stringliteral">"$Id$"</span>};
00039 
00040 <span class="preprocessor">#include &lt;GetOpt.h&gt;</span>
00041 
00042 <span class="preprocessor">#include "<a class="code" href="parser_8h.html">parser.h</a>"</span>
00043 <span class="preprocessor">#include "dds.tab.h"</span>
00044 <span class="preprocessor">#include "<a class="code" href="BaseType_8h.html">BaseType.h</a>"</span>
00045 <span class="preprocessor">#include "<a class="code" href="Int32_8h.html">Int32.h</a>"</span>
00046 <span class="preprocessor">#include "<a class="code" href="DDS_8h.html">DDS.h</a>"</span>
00047 <span class="preprocessor">#include "<a class="code" href="util_8h.html">util.h</a>"</span>
00048 <span class="preprocessor">#include "<a class="code" href="Error_8h.html">Error.h</a>"</span>
00049 
00050 <span class="keywordtype">void</span> <a class="code" href="das-test_8cc.html#a9">test_scanner</a>();
00051 <span class="keywordtype">void</span> <a class="code" href="dds-test_8cc.html#a5">test_parser</a>();
00052 <span class="keywordtype">void</span> <a class="code" href="dds-test_8cc.html#a6">test_class</a>();
00053 
00054 <span class="keywordtype">int</span> <a class="code" href="dds-test_8cc.html#a7">ddslex</a>();
00055 <span class="keywordtype">int</span> <a class="code" href="DDS_8cc.html#a2">ddsparse</a>(<a class="code" href="classDDS.html">DDS</a> &amp;);
00056 
<a name="l00057"></a><a class="code" href="dds-test_8cc.html#a1">00057</a> <span class="keyword">extern</span> <a class="code" href="das-test_8cc.html#a0">YYSTYPE</a> <a class="code" href="dds-test_8cc.html#a1">ddslval</a>;
<a name="l00058"></a><a class="code" href="dds-test_8cc.html#a2">00058</a> <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="dds-test_8cc.html#a2">ddsdebug</a>;
<a name="l00059"></a><a class="code" href="dds-test_8cc.html#a3">00059</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="das-test_8cc.html#a3">prompt</a> = <span class="stringliteral">"dds-test: "</span>;
00060 
00061 <span class="keywordtype">void</span>
<a name="l00062"></a><a class="code" href="dds-test_8cc.html#a9">00062</a> <a class="code" href="error-test_8cc.html#a6">usage</a>(string name)
00063 {
00064     fprintf( stderr, <span class="stringliteral">"usage: %s %s\n %s\n %s\n %s\n %s\n %s\n %s\n %s\n"</span>,
00065              name.c_str(),
00066              <span class="stringliteral">"[s] [pd] [c]"</span>,
00067              <span class="stringliteral">"s: Test the scanner."</span>,
00068              <span class="stringliteral">"p: Test the parser; reads from stdin and prints the"</span>,
00069              <span class="stringliteral">"   internal structure to stdout."</span>,
00070              <span class="stringliteral">"d: Turn on parser debugging. (only for the hard core.)"</span>,
00071              <span class="stringliteral">"c: Test the C++ code for manipulating DDS objects."</span>,
00072              <span class="stringliteral">"   Reads from stdin, parses and writes the modified DDS"</span>,
00073              <span class="stringliteral">"   to stdout."</span> ) ;
00074 }
00075 
00076 <span class="preprocessor">#ifdef WIN32</span>
00077 <span class="preprocessor"></span><span class="keywordtype">void</span>
00078 <span class="preprocessor">#else</span>
00079 <span class="preprocessor"></span><span class="keywordtype">int</span>
00080 <span class="preprocessor">#endif</span>
<a name="l00081"></a><a class="code" href="dds-test_8cc.html#a10">00081</a> <span class="preprocessor"></span><a class="code" href="usage_8cc.html#a17">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
00082 {
00083     GetOpt getopt (argc, argv, <span class="stringliteral">"spdc"</span>);
00084     <span class="keywordtype">int</span> option_char;
00085     <span class="keywordtype">int</span> scanner_test = 0, parser_test = 0, class_test = 0;
00086 
00087     <span class="comment">// process options</span>
00088 
00089     <span class="keywordflow">while</span> ((option_char = getopt ()) != EOF)
00090     <span class="keywordflow">switch</span> (option_char)
00091       {
00092         <span class="keywordflow">case</span> <span class="charliteral">'d'</span>: 
00093           <a class="code" href="dds-test_8cc.html#a2">ddsdebug</a> = 1;
00094           <span class="keywordflow">break</span>;
00095         <span class="keywordflow">case</span> <span class="charliteral">'s'</span>:
00096           scanner_test = 1;
00097           <span class="keywordflow">break</span>;
00098         <span class="keywordflow">case</span> <span class="charliteral">'p'</span>:
00099           parser_test = 1;
00100           <span class="keywordflow">break</span>;
00101         <span class="keywordflow">case</span> <span class="charliteral">'c'</span>:
00102           class_test = 1;
00103           <span class="keywordflow">break</span>;
00104         <span class="keywordflow">case</span> <span class="charliteral">'?'</span>: 
00105         <span class="keywordflow">default</span>:
00106           <a class="code" href="error-test_8cc.html#a6">usage</a>(argv[0]);
00107           exit(1);
00108       }
00109 
00110     <span class="keywordflow">if</span> (!scanner_test &amp;&amp; !parser_test &amp;&amp; !class_test) {
00111     <a class="code" href="error-test_8cc.html#a6">usage</a>(argv[0]);
00112     exit(1);
00113     }
00114 
00115     <span class="keywordflow">try</span> {
00116       <span class="keywordflow">if</span> (scanner_test) {
00117     <a class="code" href="das-test_8cc.html#a9">test_scanner</a>();
00118       }
00119 
00120       <span class="keywordflow">if</span> (parser_test) {
00121     <a class="code" href="dds-test_8cc.html#a5">test_parser</a>();
00122       }
00123 
00124       <span class="keywordflow">if</span> (class_test) {
00125     <a class="code" href="dds-test_8cc.html#a6">test_class</a>();
00126       }
00127     }
00128     <span class="keywordflow">catch</span> (<a class="code" href="classError.html">Error</a> &amp;e) {
00129       e.display_message();
00130     }
00131 
00132 <span class="preprocessor">#ifdef WIN32</span>
00133 <span class="preprocessor"></span>    exit(0); <span class="comment">//  DejaGnu/Cygwin based test suite requires this.</span>
00134     <span class="keywordflow">return</span>;  <span class="comment">//  Visual C++ requests this.</span>
00135 <span class="preprocessor">#endif</span>
00136 <span class="preprocessor"></span>}
00137 
00138 <span class="keywordtype">void</span>
00139 <a class="code" href="das-test_8cc.html#a9">test_scanner</a>(<span class="keywordtype">void</span>)
00140 {
00141     <span class="keywordtype">int</span> tok;
00142 
00143     fprintf( stdout, <span class="stringliteral">"%s"</span>, prompt ) ; <span class="comment">// first prompt</span>
00144     fflush( stdout ) ;
00145     <span class="keywordflow">while</span> ((tok = <a class="code" href="dds-test_8cc.html#a7">ddslex</a>())) {
00146     <span class="keywordflow">switch</span> (tok) {
00147       <span class="keywordflow">case</span> SCAN_DATASET:
00148         fprintf( stdout, <span class="stringliteral">"DATASET\n"</span> ) ;
00149         <span class="keywordflow">break</span>;
00150       <span class="keywordflow">case</span> SCAN_LIST:
00151         fprintf( stdout, <span class="stringliteral">"LIST\n"</span> ) ;
00152         <span class="keywordflow">break</span>;
00153       <span class="keywordflow">case</span> SCAN_SEQUENCE:
00154         fprintf( stdout, <span class="stringliteral">"SEQUENCE\n"</span> ) ;
00155         <span class="keywordflow">break</span>;
00156       <span class="keywordflow">case</span> SCAN_STRUCTURE:
00157         fprintf( stdout, <span class="stringliteral">"STRUCTURE\n"</span> ) ;
00158         <span class="keywordflow">break</span>;
00159       <span class="keywordflow">case</span> SCAN_FUNCTION:
00160         fprintf( stdout, <span class="stringliteral">"FUNCTION\n"</span> ) ;
00161         <span class="keywordflow">break</span>;
00162       <span class="keywordflow">case</span> SCAN_GRID:
00163         fprintf( stdout, <span class="stringliteral">"GRID\n"</span> ) ;
00164         <span class="keywordflow">break</span>;
00165       <span class="keywordflow">case</span> SCAN_BYTE:
00166         fprintf( stdout, <span class="stringliteral">"BYTE\n"</span> ) ;
00167         <span class="keywordflow">break</span>;
00168       <span class="keywordflow">case</span> SCAN_INT16:
00169         fprintf( stdout, <span class="stringliteral">"INT16\n"</span> ) ;
00170         <span class="keywordflow">break</span>;
00171       <span class="keywordflow">case</span> SCAN_UINT16:
00172         fprintf( stdout, <span class="stringliteral">"UINT16\n"</span> ) ;
00173         <span class="keywordflow">break</span>;
00174       <span class="keywordflow">case</span> SCAN_INT32:
00175         fprintf( stdout, <span class="stringliteral">"INT32\n"</span> ) ;
00176         <span class="keywordflow">break</span>;
00177       <span class="keywordflow">case</span> SCAN_UINT32:
00178         fprintf( stdout, <span class="stringliteral">"UINT32\n"</span> ) ;
00179         <span class="keywordflow">break</span>;
00180       <span class="keywordflow">case</span> SCAN_FLOAT32:
00181         fprintf( stdout, <span class="stringliteral">"FLOAT32\n"</span> ) ;
00182         <span class="keywordflow">break</span>;
00183       <span class="keywordflow">case</span> SCAN_FLOAT64:
00184         fprintf( stdout, <span class="stringliteral">"FLOAT64\n"</span> ) ;
00185         <span class="keywordflow">break</span>;
00186       <span class="keywordflow">case</span> SCAN_STRING:
00187         fprintf( stdout, <span class="stringliteral">"STRING\n"</span> ) ;
00188         <span class="keywordflow">break</span>;
00189       <span class="keywordflow">case</span> SCAN_URL:
00190         fprintf( stdout, <span class="stringliteral">"Url\n"</span> ) ;
00191         <span class="keywordflow">break</span>;
00192       <span class="keywordflow">case</span> SCAN_WORD:
00193         fprintf( stdout, <span class="stringliteral">"WORD: %s\n"</span>, <a class="code" href="dds-test_8cc.html#a1">ddslval</a>.word ) ;
00194         <span class="keywordflow">break</span>;
00195       <span class="keywordflow">case</span> <span class="charliteral">'{'</span>:
00196         fprintf( stdout, <span class="stringliteral">"Left Brace\n"</span> ) ;
00197         <span class="keywordflow">break</span>;
00198       <span class="keywordflow">case</span> <span class="charliteral">'}'</span>:
00199         fprintf( stdout, <span class="stringliteral">"Right Brace\n"</span> ) ;
00200         <span class="keywordflow">break</span>;
00201       <span class="keywordflow">case</span> <span class="charliteral">'['</span>:
00202         fprintf( stdout, <span class="stringliteral">"Left Bracket\n"</span> ) ;
00203         <span class="keywordflow">break</span>;
00204       <span class="keywordflow">case</span> <span class="charliteral">']'</span>:
00205         fprintf( stdout, <span class="stringliteral">"Right Bracket\n"</span> ) ;
00206         <span class="keywordflow">break</span>;
00207       <span class="keywordflow">case</span> <span class="charliteral">';'</span>:
00208         fprintf( stdout, <span class="stringliteral">"Semicolon\n"</span> ) ;
00209         <span class="keywordflow">break</span>;
00210       <span class="keywordflow">case</span> <span class="charliteral">':'</span>:
00211         fprintf( stdout, <span class="stringliteral">"Colon\n"</span> ) ;
00212         <span class="keywordflow">break</span>;
00213       <span class="keywordflow">case</span> <span class="charliteral">'='</span>:
00214         fprintf( stdout, <span class="stringliteral">"Assignment\n"</span> ) ;
00215         <span class="keywordflow">break</span>;
00216       <span class="keywordflow">default</span>:
00217         fprintf( stdout, <span class="stringliteral">"Error: Unrecognized input\n"</span> ) ;
00218     }
00219     fprintf( stdout, <span class="stringliteral">"%s"</span>, prompt ) ; <span class="comment">// print prompt after output</span>
00220     fflush( stdout ) ;
00221     }
00222 }
00223 
00224 <span class="keywordtype">void</span>
<a name="l00225"></a><a class="code" href="dds-test_8cc.html#a5">00225</a> <a class="code" href="dds-test_8cc.html#a5">test_parser</a>(<span class="keywordtype">void</span>)
00226 {
00227     <a class="code" href="classDDS.html">DDS</a> table;
00228     table.<a class="code" href="classDDS.html#DDSa40">parse</a>();
00229     
00230     <span class="keywordflow">if</span> (table.<a class="code" href="classDDS.html#DDSa50">check_semantics</a>())
00231     fprintf( stdout, <span class="stringliteral">"DDS past semantic check\n"</span> ) ;
00232     <span class="keywordflow">else</span> 
00233     fprintf( stdout, <span class="stringliteral">"DDS failed semantic check\n"</span> ) ;
00234 
00235     <span class="keywordflow">if</span> (table.<a class="code" href="classDDS.html#DDSa50">check_semantics</a>(<span class="keyword">true</span>))
00236     fprintf( stdout, <span class="stringliteral">"DDS past full semantic check\n"</span> ) ;
00237     <span class="keywordflow">else</span> 
00238     fprintf( stdout, <span class="stringliteral">"DDS failed full semantic check\n"</span> ) ;
00239 
00240     table.<a class="code" href="classDDS.html#DDSa43">print</a>( stdout );
00241 }
00242 
00243 <span class="keywordtype">void</span>
<a name="l00244"></a><a class="code" href="dds-test_8cc.html#a6">00244</a> <a class="code" href="dds-test_8cc.html#a6">test_class</a>(<span class="keywordtype">void</span>)
00245 {
00246     <a class="code" href="classDDS.html">DDS</a> table;
00247     table.<a class="code" href="classDDS.html#DDSa40">parse</a>();
00248     
00249     <span class="keywordflow">if</span> (table.<a class="code" href="classDDS.html#DDSa50">check_semantics</a>())
00250     fprintf( stdout, <span class="stringliteral">"DDS past semantic check\n"</span> ) ;
00251     <span class="keywordflow">else</span> 
00252     fprintf( stdout, <span class="stringliteral">"DDS filed semantic check\n"</span> ) ;
00253 
00254     <span class="keywordflow">if</span> (table.<a class="code" href="classDDS.html#DDSa50">check_semantics</a>(<span class="keyword">true</span>))
00255     fprintf( stdout, <span class="stringliteral">"DDS past full semantic check\n"</span> ) ;
00256     <span class="keywordflow">else</span> 
00257     fprintf( stdout, <span class="stringliteral">"DDS filed full semantic check\n"</span> ) ;
00258 
00259     table.<a class="code" href="classDDS.html#DDSa43">print</a>( stdout );
00260 
00261     <a class="code" href="classDDS.html">DDS</a> table2 = table;     <span class="comment">// test copy ctor;</span>
00262     table2.<a class="code" href="classDDS.html#DDSa43">print</a>( stdout );
00263 
00264     <a class="code" href="classDDS.html">DDS</a> table3;
00265     table3 = table;     <span class="comment">// test operator=</span>
00266 
00267     fprintf( stdout, <span class="stringliteral">"Dataset name: %s\n"</span>, table.get_dataset_name().c_str()) ;
00268 
00269     string name = <span class="stringliteral">"goofy"</span>;
00270     table.<a class="code" href="classDDS.html#DDSa4">add_var</a>(<a class="code" href="VirtualCtorInt32_8cc.html#a1">NewInt32</a>(name)); <span class="comment">// table dtor should delete this object</span>
00271 
00272     table.print( stdout );
00273 
00274     <a class="code" href="classBaseType.html">BaseType</a> *btp = table.var(name);
00275 
00276     btp-&gt;<a class="code" href="classBaseType.html#Urla38">print_decl</a>(stdout, <span class="stringliteral">""</span>, <span class="keyword">true</span>); <span class="comment">// print out goofy w/semicolon</span>
00277 
00278     table.del_var(name);
00279 
00280     table.print( stdout );
00281 
00282     table.add_var(<a class="code" href="VirtualCtorInt32_8cc.html#a1">NewInt32</a>(<span class="stringliteral">"goofy"</span>));
00283 
00284     table.print( stdout );
00285 
00286     btp = table.<a class="code" href="classBaseType.html#Vectora44">var</a>(<span class="stringliteral">"goofy"</span>);
00287 
00288     btp-&gt;<a class="code" href="classBaseType.html#Urla38">print_decl</a>(stdout, <span class="stringliteral">""</span>, <span class="keyword">true</span>); <span class="comment">// print out goofy w/semicolon</span>
00289 
00290     table.del_var(<span class="stringliteral">"goofy"</span>);
00291 
00292     table.print( stdout );
00293 
00294     <span class="keywordflow">for</span> (<a class="code" href="classDDS.html#DDSw1">DDS::Vars_iter</a> p = table.var_begin(); p != table.var_end(); p++)
00295     (*p)-&gt;print_decl(stdout, <span class="stringliteral">""</span>, <span class="keyword">true</span>); <span class="comment">// print them all w/semicolons</span>
00296 }
00297 
00298 <span class="comment">// $Log: dds-test_8cc-source.html,v $
00298 <span class="comment">// Revision 1.4  2004/02/05 06:51:20  jimg
00298 <span class="comment">// Added/update.
00298 <span class="comment">//</span>
00299 <span class="comment">// Revision 1.28  2003/04/22 19:40:28  jimg</span>
00300 <span class="comment">// Merged with 3.3.1.</span>
00301 <span class="comment">//</span>
00302 <span class="comment">// Revision 1.27  2003/02/21 00:14:25  jimg</span>
00303 <span class="comment">// Repaired copyright.</span>
00304 <span class="comment">//</span>
00305 <span class="comment">// Revision 1.26.2.1  2003/02/21 00:10:08  jimg</span>
00306 <span class="comment">// Repaired copyright.</span>
00307 <span class="comment">//</span>
00308 <span class="comment">// Revision 1.26  2003/01/23 00:22:24  jimg</span>
00309 <span class="comment">// Updated the copyright notice; this implementation of the DAP is</span>
00310 <span class="comment">// copyrighted by OPeNDAP, Inc.</span>
00311 <span class="comment">//</span>
00312 <span class="comment">// Revision 1.25  2003/01/10 19:46:41  jimg</span>
00313 <span class="comment">// Merged with code tagged release-3-2-10 on the release-3-2 branch. In many</span>
00314 <span class="comment">// cases files were added on that branch (so they appear on the trunk for</span>
00315 <span class="comment">// the first time).</span>
00316 <span class="comment">//</span>
00317 <span class="comment">// Revision 1.21.4.7  2002/12/17 22:35:03  pwest</span>
00318 <span class="comment">// Added and updated methods using stdio. Deprecated methods using iostream.</span>
00319 <span class="comment">//</span>
00320 <span class="comment">// Revision 1.21.4.6  2002/10/28 21:17:44  pwest</span>
00321 <span class="comment">// Converted all return values and method parameters to use non-const iterator.</span>
00322 <span class="comment">// Added operator== and operator!= methods to IteratorAdapter to handle Pix</span>
00323 <span class="comment">// problems.</span>
00324 <span class="comment">//</span>
00325 <span class="comment">// Revision 1.21.4.5  2002/09/05 22:52:55  pwest</span>
00326 <span class="comment">// Replaced the GNU data structures SLList and DLList with the STL container</span>
00327 <span class="comment">// class vector&lt;&gt;. To maintain use of Pix, changed the Pix.h header file to</span>
00328 <span class="comment">// redefine Pix to be an IteratorAdapter. Usage remains the same and all code</span>
00329 <span class="comment">// outside of the DAP should compile and link with no problems. Added methods</span>
00330 <span class="comment">// to the different classes where Pix is used to include methods to use STL</span>
00331 <span class="comment">// iterators. Replaced the use of Pix within the DAP to use iterators instead.</span>
00332 <span class="comment">// Updated comments for documentation, updated the test suites, and added some</span>
00333 <span class="comment">// unit tests. Updated the Makefile to remove GNU/SLList and GNU/DLList.</span>
00334 <span class="comment">//</span>
00335 <span class="comment">// Revision 1.24  2002/06/03 22:21:15  jimg</span>
00336 <span class="comment">// Merged with release-3-2-9</span>
00337 <span class="comment">//</span>
00338 <span class="comment">// Revision 1.21.4.4  2001/11/01 00:43:51  jimg</span>
00339 <span class="comment">// Fixes to the scanners and parsers so that dataset variable names may</span>
00340 <span class="comment">// start with digits. I've expanded the set of characters that may appear</span>
00341 <span class="comment">// in a variable name and made it so that all except `#' may appear at</span>
00342 <span class="comment">// the start. Some characters are not allowed in variables that appear in</span>
00343 <span class="comment">// a DDS or CE while they are allowed in the DAS. This makes it possible</span>
00344 <span class="comment">// to define containers with names like `COARDS:long_name.' Putting a colon</span>
00345 <span class="comment">// in a variable name makes the CE parser much more complex. Since the set</span>
00346 <span class="comment">// of characters that people want seems pretty limited (compared to the</span>
00347 <span class="comment">// complete ASCII set) I think this is an OK approach. If we have to open</span>
00348 <span class="comment">// up the expr.lex scanner completely, then we can but not without adding</span>
00349 <span class="comment">// lots of action clauses to teh parser. Note that colon is just an example,</span>
00350 <span class="comment">// there's a host of characters that are used in CEs that are not allowed</span>
00351 <span class="comment">// in IDs.</span>
00352 <span class="comment">//</span>
00353 <span class="comment">// Revision 1.23  2001/08/24 17:46:22  jimg</span>
00354 <span class="comment">// Resolved conflicts from the merge of release 3.2.6</span>
00355 <span class="comment">//</span>
00356 <span class="comment">// Revision 1.21.4.3  2001/08/18 00:04:23  jimg</span>
00357 <span class="comment">// Removed WIN32 compile guards from using statements.</span>
00358 <span class="comment">//</span>
00359 <span class="comment">// Revision 1.21.4.2  2001/06/23 00:52:08  jimg</span>
00360 <span class="comment">// Normalized the definitions of ID (SCAN_ID), INT, FLOAT and NEVER so</span>
00361 <span class="comment">// that they are (more or less) the same in all the scanners. There are</span>
00362 <span class="comment">// one or two characters that differ (for example das.lex allows ( and )</span>
00363 <span class="comment">// in an ID while dds.lex, expr.lex and gse.lex don't) but the definitions</span>
00364 <span class="comment">// are essentially the same across the board.</span>
00365 <span class="comment">// Added `#' to the set of characeters allowed in an ID (bug 179).</span>
00366 <span class="comment">//</span>
00367 <span class="comment">// Revision 1.22  2001/06/15 23:49:03  jimg</span>
00368 <span class="comment">// Merged with release-3-2-4.</span>
00369 <span class="comment">//</span>
00370 <span class="comment">// Revision 1.21.4.1  2001/05/08 19:10:47  jimg</span>
00371 <span class="comment">// Expanded the set of names that the dds.y parser will recognize to</span>
00372 <span class="comment">// include integers (for files named like 990412.nc). Also removed the</span>
00373 <span class="comment">// unused keywords Dependent and Independent from both the DDS scanner</span>
00374 <span class="comment">// and parser.</span>
00375 <span class="comment">// Added other reserved words to the set of possible Dataset names.</span>
00376 <span class="comment">//</span>
00377 <span class="comment">// Revision 1.21  2000/09/22 02:52:58  jimg</span>
00378 <span class="comment">// Fixes to the tests to recognize some of the new error messages. Also,</span>
00379 <span class="comment">// the test drivers were modified to catch the exceptions now thrown by</span>
00380 <span class="comment">// some of the parsers.</span>
00381 <span class="comment">//</span>
00382 <span class="comment">// Revision 1.20  2000/09/22 02:17:22  jimg</span>
00383 <span class="comment">// Rearranged source files so that the CVS logs appear at the end rather than</span>
00384 <span class="comment">// the start. Also made the ifdef guard symbols use the same naming scheme and</span>
00385 <span class="comment">// wrapped headers included in other headers in those guard symbols (to cut</span>
00386 <span class="comment">// down on extraneous file processing - See Lakos).</span>
00387 <span class="comment">//</span>
00388 <span class="comment">// Revision 1.19  2000/09/21 16:22:09  jimg</span>
00389 <span class="comment">// Merged changes from Jose Garcia that add exceptions to the software.</span>
00390 <span class="comment">// Many methods that returned error codes now throw exectptions. There are</span>
00391 <span class="comment">// two classes which are thrown by the software, Error and InternalErr.</span>
00392 <span class="comment">// InternalErr is used to report errors within the library or errors using</span>
00393 <span class="comment">// the library. Error is used to reprot all other errors. Since InternalErr</span>
00394 <span class="comment">// is a subclass of Error, programs need only to catch Error.</span>
00395 <span class="comment">//</span>
00396 <span class="comment">// Revision 1.18  2000/07/19 22:51:40  rmorris</span>
00397 <span class="comment">// Call and return from main in a manner Visual C++ likes and</span>
00398 <span class="comment">// exit the program with exit(0) so that DejaGnu/Cygwin based</span>
00399 <span class="comment">// testsuite can succeed for win32.</span>
00400 <span class="comment">//</span>
00401 <span class="comment">// Revision 1.17  2000/07/09 22:05:36  rmorris</span>
00402 <span class="comment">// Changes to increase portability, minimize ifdef's for win32 and account</span>
00403 <span class="comment">// for differences in the iostreams implementations.</span>
00404 <span class="comment">//</span>
00405 <span class="comment">// Revision 1.16  2000/06/07 18:07:00  jimg</span>
00406 <span class="comment">// Merged the pc port branch</span>
00407 <span class="comment">//</span>
00408 <span class="comment">// Revision 1.15.20.1  2000/06/02 18:36:38  rmorris</span>
00409 <span class="comment">// Mod's for port to Win32.</span>
00410 <span class="comment">//</span>
00411 <span class="comment">// Revision 1.15.14.1  2000/02/17 05:03:17  jimg</span>
00412 <span class="comment">// Added file and line number information to calls to InternalErr.</span>
00413 <span class="comment">// Resolved compile-time problems with read due to a change in its</span>
00414 <span class="comment">// parameter list given that errors are now reported using exceptions.</span>
00415 <span class="comment">//</span>
00416 <span class="comment">// Revision 1.15  1999/04/29 02:29:35  jimg</span>
00417 <span class="comment">// Merge of no-gnu branch</span>
00418 <span class="comment">//</span>
00419 <span class="comment">// Revision 1.14  1999/03/24 23:33:11  jimg</span>
00420 <span class="comment">// Added support for the new Int16, UInt16 and Float32 types.</span>
00421 <span class="comment">//</span>
00422 <span class="comment">// Revision 1.13.4.2  1999/02/05 09:32:36  jimg</span>
00423 <span class="comment">// Fixed __unused__ so that it not longer clashes with Red Hat 5.2 inlined</span>
00424 <span class="comment">// math code. </span>
00425 <span class="comment">//</span>
00426 <span class="comment">// Revision 1.13.4.1  1999/02/02 21:57:06  jimg</span>
00427 <span class="comment">// String to string version</span>
00428 <span class="comment">//</span>
00429 <span class="comment">// Revision 1.13  1997/12/16 00:45:41  jimg</span>
00430 <span class="comment">// Added code for NAME lexeme.</span>
00431 <span class="comment">//</span>
00432 <span class="comment">// Revision 1.12  1996/08/13 18:49:55  jimg</span>
00433 <span class="comment">// Added on-line help.</span>
00434 <span class="comment">// Now, always returns an exit code.</span>
00435 <span class="comment">//</span>
00436 <span class="comment">// Revision 1.11  1996/05/31 23:30:53  jimg</span>
00437 <span class="comment">// Updated copyright notice.</span>
00438 <span class="comment">//</span>
00439 <span class="comment">// Revision 1.10  1996/04/05 00:22:14  jimg</span>
00440 <span class="comment">// Compiled with g++ -Wall and fixed various warnings.</span>
00441 <span class="comment">//</span>
00442 <span class="comment">// Revision 1.9  1995/10/23  22:56:32  jimg</span>
00443 <span class="comment">// Added Log and RCSID.</span>
00444 <span class="comment">//</span>
00445 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Feb 4 23:42:58 2004 for libdap++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
