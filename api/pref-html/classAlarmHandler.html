<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libdap++: AlarmHandler class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>AlarmHandler Class Reference</h1><code>#include &lt;<a class="el" href="EventHandler_8h-source.html">EventHandler.h</a>&gt;</code>
<p>
Inheritance diagram for AlarmHandler:<p><center><img src="classAlarmHandler__inherit__graph.png" border="0" usemap="#AlarmHandler__inherit__map" alt="Inheritance graph"></center>
<map name="AlarmHandler__inherit__map">
<area href="classEventHandler.html" shape="rect" coords="8,17,101,36" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for AlarmHandler:<p><center><img src="classAlarmHandler__coll__graph.png" border="0" usemap="#AlarmHandler__coll__map" alt="Collaboration graph"></center>
<map name="AlarmHandler__coll__map">
<area href="classEventHandler.html" shape="rect" coords="8,17,101,36" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classAlarmHandler-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classAlarmHandler.html#AlarmHandlera0">AlarmHandler</a> (FILE *s)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classAlarmHandler.html#AlarmHandlera1">~AlarmHandler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classAlarmHandler.html#AlarmHandlera2">handle_signal</a> (int signum)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Handle the time out alarm. When an OPeNDAP server runs until the time out alarm is triggered, this class provides the concrete implementation of <a class="el" href="classEventHandler.html#EventHandlera0">EventHandler::handle_signal()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classEventHandler.html">EventHandler</a> <p>
<a class="el" href="classSignalHandler.html">SignalHandler</a> </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>James Gallagher &lt;<a href="mailto:jgallagher@opendap.org">jgallagher@opendap.org</a>&gt; </dd></dl>

<p>

<p>
Definition at line <a class="el" href="EventHandler_8h-source.html#l00064">64</a> of file <a class="el" href="EventHandler_8h-source.html">EventHandler.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="AlarmHandlera0" doxytag="AlarmHandler::AlarmHandler" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> AlarmHandler::AlarmHandler </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>s</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Store information to be used by the handler. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>s</em>&nbsp;</td><td>Write to this stream. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="EventHandler_8h-source.html#l00075">75</a> of file <a class="el" href="EventHandler_8h-source.html">EventHandler.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="AlarmHandlera1" doxytag="AlarmHandler::~AlarmHandler" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual AlarmHandler::~<a class="el" href="classAlarmHandler.html">AlarmHandler</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="EventHandler_8h-source.html#l00077">77</a> of file <a class="el" href="EventHandler_8h-source.html">EventHandler.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="AlarmHandlera2" doxytag="AlarmHandler::handle_signal" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void AlarmHandler::handle_signal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>signum</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle an alarm signal. When one of our servers gets an alarm, that means it has hit its time out. We need to dump two CRLF pairs down the stream and then send an <a class="el" href="classError.html">Error</a> object explaining that a timeout has been reached.<p>
Because this is a signal handler, it should call only reentrant system services, functions, et cetera. Generally that eliminates stdio functions but I'm using them anyway. This handler never returns to the code that was running when the alarm signal was raised.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>signum</em>&nbsp;</td><td>We know it is SIGALRM; here as a check </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Never returns; calls exit after sending the <a class="el" href="classError.html">Error</a> object. </dd></dl>

<p>
Implements <a class="el" href="classEventHandler.html#EventHandlera0">EventHandler</a>.
<p>
Definition at line <a class="el" href="EventHandler_8h-source.html#l00093">93</a> of file <a class="el" href="EventHandler_8h-source.html">EventHandler.h</a>.
<p>
References <a class="el" href="Error_8cc-source.html#l00218">Error::print()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="EventHandler_8h-source.html">EventHandler.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Feb 4 23:44:52 2004 for libdap++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
