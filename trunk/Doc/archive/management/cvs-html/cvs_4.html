<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- XML file produced from file: using-cvs.tex
     using Hyperlatex v 2.6 (c) Otfried Cheong
     on Emacs 21.3.1, Wed Jun 23 13:54:09 2004 -->
<head>
<title>Using CVS -- 4 Branching</title>

<style type="text/css">
.maketitle { align : center }
div.abstract { margin-left: 20%; margin-right: 10%; }
h3.abstract  { align : center }
div.verse, div.quote, div.quotation {
  margin-left : 10%; 
  margin-right : 10%;
}
</style>

<link rel=stylesheet
        href="http://unidata.ucar.edu/packages/dods/css/dods-paper.css" type="text/css">
</head>
<body>
<table width="100%" cellpadding=0 cellspacing=2><tr>
    <td bgcolor="#99ccff"><a href="cvs_5.html"><img border="0" alt="5 Merging" src="http://unidata.ucar.edu/packages/dods/icons/next.gif"></a></td><td bgcolor="#99ccff"><a href="cvs.html"><img border="0" alt="Top" src="http://unidata.ucar.edu/packages/dods/icons/up.gif"></a></td><td bgcolor="#99ccff"><a href="cvs_3.html"><img border="0" alt="3.2 Automatic login from Win32" src="http://unidata.ucar.edu/packages/dods/icons/previous.gif"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>4 Branching</b></td></tr></table>
<h1>4 Branching</h1>
<p>If you have checked out code a want to check changes in on a branch instead
of the main trunk, do the following:
<ol><li>Tag the branch point.
<li>Create the branch.
<li>Update your copy of the code so that it is associated with that branch.
<li>Check in the code.
</ol>
<div class="quote"><p>
If you want to make a branch off of a branch, these same steps will work.
However, it is best to stick to the trunk-and-branch model and not bifurcate
branches themselves since it can be very hard for other people to figure out
just where a particular revision fits into the CVS module.
</p></div>
<p>Perform the following steps in the directory that contains the code you want
to move to the new branch (which I'll call <CODE class="literal">test-branch</CODE>):
<p><pre class="it">
cvs tag root-of-test-branch
cvs tag -b test-branch
</pre>
<p>The first command marks the place just before the branch point. This is
important if you later need to get the code as it was just before you
branched. The <CODE class="literal">test-branch</CODE> tag <em>does not</em> provide a way to do that.
In fact accessing that tag will get you the most recent code <em>on the
branch</em>. So, you need to create a plain tag to be able to refer to the code
as it existed right before the branch was created.
<p>The second command creates the branch. The <CODE class="literal">-b</CODE> option makes this tag a
branch. The symbolic name <CODE class="literal">test-branch</CODE> can be used to refer to the
branch. Without a symbolic name, you'll be hosed.<sup><a href="cvs_8.html#id2">2</a></sup>
<p><pre class="it">
cvs update -r test-branch
</pre>
<p>This updates the tag of the code in the current working directory to
<CODE class="literal">test-branch</CODE>. Since the tag is on a branch, now so is this code.
<p><pre class="it">
cvs ci -m "&lt;some message&gt;"
</pre>
<p>The code is now checked in on the branch.
<div class="quote"><p>
Note that there's a test CVS module that can be checked out and played with.
You cannot do anything too terrible to this since the `code' is just a couple
of test files. Before doing anything that might cause the DODS repository to
get hosed, try it out there. The name of the test module is <CODE class="literal">cvs-test</CODE>.
</p></div>
<hr /><address>James Gallagher &lt;jgallagher@gso.uri.edu&gt;, 
  2004/06/23, Revision: 1.8</address><br />
<table width="100%" cellpadding=0 cellspacing=2><tr>
    <td bgcolor="#99ccff"><a href="cvs_5.html"><img border="0" alt="5 Merging" src="http://unidata.ucar.edu/packages/dods/icons/next.gif"></a></td><td bgcolor="#99ccff"><a href="cvs.html"><img border="0" alt="Top" src="http://unidata.ucar.edu/packages/dods/icons/up.gif"></a></td><td bgcolor="#99ccff"><a href="cvs_3.html"><img border="0" alt="3.2 Automatic login from Win32" src="http://unidata.ucar.edu/packages/dods/icons/previous.gif"></a></td><td align="center" bgcolor="#99ccff" width="100%"><b>4 Branching</b></td></tr></table></body></html>
