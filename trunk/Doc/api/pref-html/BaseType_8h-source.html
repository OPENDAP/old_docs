<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libdap++: BaseType.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>BaseType.h</h1><a href="BaseType_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00002 <span class="comment">// -*- mode: c++; c-basic-offset:4 -*-</span>
00003 
00004 <span class="comment">// This file is part of libdap, A C++ implementation of the OPeNDAP Data</span>
00005 <span class="comment">// Access Protocol.</span>
00006 
00007 <span class="comment">// Copyright (c) 2002,2003 OPeNDAP, Inc.</span>
00008 <span class="comment">// Author: James Gallagher &lt;jgallagher@opendap.org&gt;</span>
00009 <span class="comment">//         Dan Holloway &lt;dan@hollywood.gso.uri.edu&gt;</span>
00010 <span class="comment">//         Reza Nekovei &lt;reza@intcomm.net&gt;</span>
00011 <span class="comment">//</span>
00012 <span class="comment">// This library is free software; you can redistribute it and/or</span>
00013 <span class="comment">// modify it under the terms of the GNU Lesser General Public</span>
00014 <span class="comment">// License as published by the Free Software Foundation; either</span>
00015 <span class="comment">// version 2.1 of the License, or (at your option) any later version.</span>
00016 <span class="comment">// </span>
00017 <span class="comment">// This library is distributed in the hope that it will be useful,</span>
00018 <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00019 <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00020 <span class="comment">// Lesser General Public License for more details.</span>
00021 <span class="comment">// </span>
00022 <span class="comment">// You should have received a copy of the GNU Lesser General Public</span>
00023 <span class="comment">// License along with this library; if not, write to the Free Software</span>
00024 <span class="comment">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00025 <span class="comment">//</span>
00026 <span class="comment">// You can contact OPeNDAP, Inc. at PO Box 112, Saunderstown, RI. 02874-0112.</span>
00027  
00028 <span class="comment">// (c) COPYRIGHT URI/MIT 1994-1999</span>
00029 <span class="comment">// Please read the full copyright statement in the file COPYRIGHT_URI.</span>
00030 <span class="comment">//</span>
00031 <span class="comment">// Authors:</span>
00032 <span class="comment">//      jhrg,jimg       James Gallagher &lt;jgallagher@gso.uri.edu&gt;</span>
00033 <span class="comment">//      dan             Dan Holloway &lt;dan@hollywood.gso.uri.edu&gt;</span>
00034 <span class="comment">//      reza            Reza Nekovei &lt;reza@intcomm.net&gt;</span>
00035 
00036 <span class="comment">// Abstract base class for the variables in a dataset. This is used to store</span>
00037 <span class="comment">// the type-invariant information that describes a variable as given in the</span>
00038 <span class="comment">// DODS API.</span>
00039 <span class="comment">//</span>
00040 <span class="comment">// jhrg 9/6/94</span>
00041 
00042 <span class="preprocessor">#ifndef _basetype_h</span>
<a name="l00043"></a><a class="code" href="BaseType_8h.html#a0">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define _basetype_h 1</span>
00044 <span class="preprocessor"></span>
00045 <span class="preprocessor">#ifndef __POWERPC__</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#ifdef __GNUG__</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#pragma interface</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00050 <span class="preprocessor"></span>
00051 <span class="preprocessor">#ifdef WIN32</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#include &lt;rpc.h&gt;</span>
00053 <span class="preprocessor">#include &lt;winsock.h&gt;</span>
00054 <span class="preprocessor">#include &lt;xdr.h&gt;</span>
00055 <span class="preprocessor">#else</span>
00056 <span class="preprocessor"></span><span class="preprocessor">#include &lt;rpc/types.h&gt;</span>
00057 <span class="preprocessor">#include &lt;netinet/in.h&gt;</span>
00058 <span class="preprocessor">#include &lt;rpc/xdr.h&gt;</span>
00059 <span class="preprocessor">#endif</span>
00060 <span class="preprocessor"></span>
00061 <span class="preprocessor">#include &lt;vector&gt;</span>
00062 <span class="preprocessor">#include &lt;stack&gt;</span>
00063 <span class="preprocessor">#include &lt;iostream&gt;</span>
00064 <span class="preprocessor">#include &lt;string&gt;</span>
00065 
00066 <span class="preprocessor">#ifndef _internalerr_h</span>
00067 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="InternalErr_8h.html">InternalErr.h</a>"</span>
00068 <span class="preprocessor">#endif</span>
00069 <span class="preprocessor"></span>
00070 <span class="preprocessor">#ifndef __DODS_DATATYPES_</span>
00071 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="dods-datatypes_8h.html">dods-datatypes.h</a>"</span>
00072 <span class="preprocessor">#endif</span>
00073 <span class="preprocessor"></span>
00074 <span class="keyword">using</span> std::vector;
00075 <span class="keyword">using</span> std::stack;
00076 <span class="keyword">using</span> std::ostream;
00077 <span class="keyword">using</span> std::string;
00078 
00079 <span class="keyword">class </span><a class="code" href="classBaseType.html">BaseType</a>;         <span class="comment">// Forward declarations</span>
00080 <span class="keyword">class </span><a class="code" href="classDDS.html">DDS</a>;
00081 
<a name="l00082"></a><a class="code" href="BaseType_8h.html#a1">00082</a> <span class="keyword">typedef</span> stack&lt;BaseType *&gt; <a class="code" href="BaseType_8h.html#a1">btp_stack</a>;
00083 
<a name="l00102"></a><a class="code" href="BaseType_8h.html#a20">00102</a> <span class="keyword">enum</span> <a class="code" href="BaseType_8h.html#a20">Part</a> {
00103     <a class="code" href="BaseType_8h.html#a20a2">nil</a>,            <span class="comment">// nil is for types that don't have parts...</span>
00104     <a class="code" href="BaseType_8h.html#a20a3">array</a>,
00105     <a class="code" href="BaseType_8h.html#a20a4">maps</a>
00106 };
00107 
<a name="l00136"></a><a class="code" href="BaseType_8h.html#a21">00136</a> <span class="keyword">enum</span> <a class="code" href="BaseType_8h.html#a21">Type</a> {
00137     <a class="code" href="BaseType_8h.html#a21a5">dods_null_c</a>,
00138     <a class="code" href="BaseType_8h.html#a21a6">dods_byte_c</a>,
00139     <a class="code" href="BaseType_8h.html#a21a7">dods_int16_c</a>,
00140     <a class="code" href="BaseType_8h.html#a21a8">dods_uint16_c</a>,
00141     <a class="code" href="BaseType_8h.html#a21a9">dods_int32_c</a>,       <span class="comment">// Added `dods_' to fix clash with IRIX 5.3.</span>
00142     <a class="code" href="BaseType_8h.html#a21a10">dods_uint32_c</a>,
00143     <a class="code" href="BaseType_8h.html#a21a11">dods_float32_c</a>,
00144     <a class="code" href="BaseType_8h.html#a21a12">dods_float64_c</a>,
00145     <a class="code" href="BaseType_8h.html#a21a13">dods_str_c</a>,
00146     <a class="code" href="BaseType_8h.html#a21a14">dods_url_c</a>,
00147     <a class="code" href="BaseType_8h.html#a21a15">dods_array_c</a>,
00148     <a class="code" href="BaseType_8h.html#a21a16">dods_list_c</a>,
00149     <a class="code" href="BaseType_8h.html#a21a17">dods_structure_c</a>,
00150     <a class="code" href="BaseType_8h.html#a21a18">dods_sequence_c</a>,
00151     <a class="code" href="BaseType_8h.html#a21a19">dods_grid_c</a>
00152 };
00153 
<a name="l00196"></a><a class="code" href="classBaseType.html">00196</a> <span class="keyword">class </span><a class="code" href="classBaseType.html">BaseType</a> {
00197 <span class="keyword">private</span>:
00198     string _name;       <span class="comment">// name of the instance</span>
00199     <a class="code" href="BaseType_8h.html#a21">Type</a> _type;         <span class="comment">// instance's type</span>
00200 
00201     <span class="comment">// xdr_coder is used as an argument to xdr procedures that encode groups</span>
00202     <span class="comment">// of things (e.g., xdr_array()). Each leaf class's constructor must set</span>
00203     <span class="comment">// this.</span>
00204     xdrproc_t _xdr_coder;
00205 
00206     <span class="keywordtype">bool</span> _read_p;       <span class="comment">// true if the value has been read</span>
00207     <span class="keywordtype">bool</span> _send_p;       <span class="comment">// Is the variable in the projection?</span>
00208     <span class="keywordtype">bool</span> d_in_selection;    <span class="comment">// Is the variable in the selection?</span>
00209     <span class="keywordtype">bool</span> _synthesized_p;    <span class="comment">// true if the variable is synthesized</span>
00210     
00211     <span class="comment">// d_parent points to the Constructor or Vector which holds a particular</span>
00212     <span class="comment">// variable. It is null for top-level variables. The Vector and</span>
00213     <span class="comment">// Constructor classes must maintain this variable. </span>
00214     <a class="code" href="classBaseType.html">BaseType</a> *d_parent;
00215 
00216 <span class="keyword">protected</span>:
00217     <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectorb1">_duplicate</a>(<span class="keyword">const</span> <a class="code" href="classBaseType.html">BaseType</a> &amp;bt);
00218 
00219 <span class="keyword">public</span>:
00220     <a class="code" href="classBaseType.html#BaseTypea0">BaseType</a>(<span class="keyword">const</span> string &amp;n = <span class="stringliteral">""</span>, <span class="keyword">const</span> <a class="code" href="BaseType_8h.html#a21">Type</a> &amp;t = <a class="code" href="BaseType_8h.html#a21a5">dods_null_c</a>,
00221          xdrproc_t xdr = NULL);
00222 
00223     <a class="code" href="classBaseType.html#BaseTypea0">BaseType</a>(<span class="keyword">const</span> <a class="code" href="classBaseType.html">BaseType</a> &amp;copy_from);
00224     <span class="keyword">virtual</span> <a class="code" href="classBaseType.html#BaseTypea2">~BaseType</a>();
00225 
00226     <span class="keyword">virtual</span> string <a class="code" href="classBaseType.html#Vectora26">toString</a>();
00227 
00228     <a class="code" href="classBaseType.html">BaseType</a> &amp;<a class="code" href="classBaseType.html#BaseTypea4">operator=</a>(<span class="keyword">const</span> <a class="code" href="classBaseType.html">BaseType</a> &amp;rhs);
00229 
00234     <span class="keyword">virtual</span> <a class="code" href="classBaseType.html">BaseType</a> *<a class="code" href="classBaseType.html#Constructora6">ptr_duplicate</a>() = 0;
00235 
00236     string <a class="code" href="classBaseType.html#Vectora27">name</a>() <span class="keyword">const</span>;
00237 
00238     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectora28">set_name</a>(<span class="keyword">const</span> string &amp;n);
00239 
00240     <a class="code" href="BaseType_8h.html#a21">Type</a> <a class="code" href="classBaseType.html#Vectora29">type</a>() <span class="keyword">const</span>;
00241     <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectora30">set_type</a>(<span class="keyword">const</span> <a class="code" href="BaseType_8h.html#a21">Type</a> &amp;t);
00242     string <a class="code" href="classBaseType.html#Vectora31">type_name</a>() <span class="keyword">const</span>;   
00243 
00244     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora32">is_simple_type</a>();
00245     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora33">is_vector_type</a>();
00246     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora34">is_constructor_type</a>();
00247 
00248     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classBaseType.html#Urla21">element_count</a>(<span class="keywordtype">bool</span> leaves = <span class="keyword">false</span>);
00249 
00250     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora35">synthesized_p</a>();
00251     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectora36">set_synthesized_p</a>(<span class="keywordtype">bool</span> state);
00252 
00253     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora37">read_p</a>();
00254     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Urla25">set_read_p</a>(<span class="keywordtype">bool</span> state);
00255 
00256     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora38">send_p</a>();
00257     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Urla27">set_send_p</a>(<span class="keywordtype">bool</span> state);
00258 
00259     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora39">is_in_selection</a>();
00260     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectora40">set_in_selection</a>(<span class="keywordtype">bool</span> state);
00261 
00262     xdrproc_t <a class="code" href="classBaseType.html#Vectora41">xdr_coder</a>();
00263 
00264     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Vectora42">set_parent</a>(<a class="code" href="classBaseType.html">BaseType</a> *parent) <span class="keywordflow">throw</span>(<a class="code" href="classInternalErr.html">InternalErr</a>);
00265 
00266     <span class="keyword">virtual</span> <a class="code" href="classBaseType.html">BaseType</a> *<a class="code" href="classBaseType.html#Vectora43">get_parent</a>();
00267 
00268     <span class="keyword">virtual</span> <a class="code" href="classBaseType.html">BaseType</a> *<a class="code" href="classBaseType.html#Vectora44">var</a>(<span class="keyword">const</span> string &amp;n = <span class="stringliteral">""</span>, <span class="keywordtype">bool</span> exact = <span class="keyword">true</span>,
00269               <a class="code" href="BaseType_8h.html#a1">btp_stack</a> *s = 0);
00270 
00271     <span class="keyword">virtual</span> <a class="code" href="classBaseType.html">BaseType</a> *<a class="code" href="classBaseType.html#Vectora44">var</a>(<span class="keyword">const</span> string &amp;n, <a class="code" href="BaseType_8h.html#a1">btp_stack</a> &amp;s);
00272 
00273     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Urla35">add_var</a>(<a class="code" href="classBaseType.html">BaseType</a> *bt, <a class="code" href="BaseType_8h.html#a20">Part</a> part = <a class="code" href="BaseType_8h.html#a20a2">nil</a>);
00274 
00287     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBaseType.html#Constructora30">width</a>() = 0;
00288 
00289     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora45">read</a>(<span class="keyword">const</span> string &amp;dataset);
00290     
00312     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBaseType.html#Constructora32">buf2val</a>(<span class="keywordtype">void</span> **val) = 0;
00313 
00343     <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classBaseType.html#Constructora33">val2buf</a>(<span class="keywordtype">void</span> *val, <span class="keywordtype">bool</span> reuse = <span class="keyword">false</span>) = 0;
00344 
00371     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Constructora34">serialize</a>(<span class="keyword">const</span> string &amp;dataset, <a class="code" href="classDDS.html">DDS</a> &amp;dds, XDR *sink,
00372                <span class="keywordtype">bool</span> ce_eval = <span class="keyword">true</span>) = 0; 
00373 
00400     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Constructora35">deserialize</a>(XDR *source, <a class="code" href="classDDS.html">DDS</a> *dds, <span class="keywordtype">bool</span> reuse = <span class="keyword">false</span>) = 0;
00401     
00402     <span class="comment">/* Write the buffers maintained by XDR to the associated FILE *s. */</span>
00403     <span class="comment">// This function declaration appears to be a relic of a bygone era.</span>
00404     <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora46">expunge</a>();
00405 
00406     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Urla38">print_decl</a>(FILE *out, string space = <span class="stringliteral">"    "</span>, 
00407                 <span class="keywordtype">bool</span> print_semi = <span class="keyword">true</span>, 
00408                 <span class="keywordtype">bool</span> constraint_info = <span class="keyword">false</span>, 
00409                 <span class="keywordtype">bool</span> constrained = <span class="keyword">false</span>);
00410 
00411     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Urla38">print_decl</a>(ostream &amp;os, string space = <span class="stringliteral">"    "</span>, 
00412                 <span class="keywordtype">bool</span> print_semi = <span class="keyword">true</span>, 
00413                 <span class="keywordtype">bool</span> constraint_info = <span class="keyword">false</span>, 
00414                 <span class="keywordtype">bool</span> constrained = <span class="keyword">false</span>);
00415 
00437     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Constructora39">print_val</a>(ostream &amp;os, string space = <span class="stringliteral">""</span>,
00438                <span class="keywordtype">bool</span> print_decl_p = <span class="keyword">true</span>) = 0;
00439 
00459     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classBaseType.html#Constructora39">print_val</a>(FILE *out, string space = <span class="stringliteral">""</span>,
00460                <span class="keywordtype">bool</span> print_decl_p = <span class="keyword">true</span>) = 0;
00461 
00462     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Urla40">check_semantics</a>(string &amp;msg, <span class="keywordtype">bool</span> all = <span class="keyword">false</span>);
00463 
00464     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classBaseType.html#Vectora47">ops</a>(<a class="code" href="classBaseType.html">BaseType</a> *b, <span class="keywordtype">int</span> op, <span class="keyword">const</span> string &amp;dataset);
00465 };
00466 
00467 <span class="comment">/* </span>
00468 <span class="comment"> * $Log: BaseType_8h-source.html,v $
00468 <span class="comment"> * Revision 1.4  2004/02/05 06:51:15  jimg
00468 <span class="comment"> * Added/update.
00468 <span class="comment"> *</span>
00469 <span class="comment"> * Revision 1.71.2.6  2003/11/25 18:14:22  jimg</span>
00470 <span class="comment"> * Improved the doc comments regarding buf2val() for Sequence.</span>
00471 <span class="comment"> *</span>
00472 <span class="comment"> * Revision 1.71.2.5  2003/11/19 18:53:05  jimg</span>
00473 <span class="comment"> * Added a todo comment about new methods which return values directly without</span>
00474 <span class="comment"> * using the buf2val() method.</span>
00475 <span class="comment"> *</span>
00476 <span class="comment"> * Revision 1.71.2.4  2003/09/28 20:57:22  rmorris</span>
00477 <span class="comment"> * Discontinued use of XDR_PROC typedef, using xdrproc_t instead - a</span>
00478 <span class="comment"> * define from the xdr portion of the rpc library.</span>
00479 <span class="comment"> *</span>
00480 <span class="comment"> * Revision 1.71.2.3  2003/09/06 22:24:19  jimg</span>
00481 <span class="comment"> * Significant changes to the documentation. Added the in_selection property and</span>
00482 <span class="comment"> * accessor/mutator methods for it. Added use of the typedef XDR_PROC which</span>
00483 <span class="comment"> * allowed me to remove some of the #if WIN32 code (see dods-datatypes.h.in).</span>
00484 <span class="comment"> *</span>
00485 <span class="comment"> * Revision 1.71.2.2  2003/07/25 06:04:28  jimg</span>
00486 <span class="comment"> * Refactored the code so that DDS:send() is now incorporated into</span>
00487 <span class="comment"> * DODSFilter::send_data(). The old DDS::send() is still there but is</span>
00488 <span class="comment"> * depracated.</span>
00489 <span class="comment"> * Added 'smart timeouts' to all the variable classes. This means that</span>
00490 <span class="comment"> * the new server timeouts are active only for the data read and CE</span>
00491 <span class="comment"> * evaluation. This went inthe BaseType::serialize() methods because it</span>
00492 <span class="comment"> * needed to time both the read() calls and the dds::eval() calls.</span>
00493 <span class="comment"> *</span>
00494 <span class="comment"> * Revision 1.71.2.1  2003/06/23 11:49:18  rmorris</span>
00495 <span class="comment"> * The #pragma interface directive to GCC makes the dynamic typing functionality</span>
00496 <span class="comment"> * go completely haywire under OS X on the PowerPC.  We can't use that directive</span>
00497 <span class="comment"> * on that platform and it was ifdef'd out for that case.</span>
00498 <span class="comment"> *</span>
00499 <span class="comment"> * Revision 1.71  2003/04/22 19:40:27  jimg</span>
00500 <span class="comment"> * Merged with 3.3.1.</span>
00501 <span class="comment"> *</span>
00502 <span class="comment"> * Revision 1.69.2.2  2003/04/18 03:08:49  jimg</span>
00503 <span class="comment"> * I made a number of the send and read predicate methods virtual. I was working</span>
00504 <span class="comment"> * on a bug in the grid() function, and while this wasn't a fix, it seems like a</span>
00505 <span class="comment"> * reasonable thing to do.</span>
00506 <span class="comment"> *</span>
00507 <span class="comment"> * Revision 1.70  2003/02/21 00:14:24  jimg</span>
00508 <span class="comment"> * Repaired copyright.</span>
00509 <span class="comment"> *</span>
00510 <span class="comment"> * Revision 1.69.2.1  2003/02/21 00:10:06  jimg</span>
00511 <span class="comment"> * Repaired copyright.</span>
00512 <span class="comment"> *</span>
00513 <span class="comment"> * Revision 1.69  2003/01/23 00:22:23  jimg</span>
00514 <span class="comment"> * Updated the copyright notice; this implementation of the DAP is</span>
00515 <span class="comment"> * copyrighted by OPeNDAP, Inc.</span>
00516 <span class="comment"> *</span>
00517 <span class="comment"> * Revision 1.68  2003/01/10 19:46:39  jimg</span>
00518 <span class="comment"> * Merged with code tagged release-3-2-10 on the release-3-2 branch. In many</span>
00519 <span class="comment"> * cases files were added on that branch (so they appear on the trunk for</span>
00520 <span class="comment"> * the first time).</span>
00521 <span class="comment"> *</span>
00522 <span class="comment"> * Revision 1.61.4.12  2002/12/17 22:35:02  pwest</span>
00523 <span class="comment"> * Added and updated methods using stdio. Deprecated methods using iostream.</span>
00524 <span class="comment"> *</span>
00525 <span class="comment"> * Revision 1.61.4.11  2002/09/05 22:52:54  pwest</span>
00526 <span class="comment"> * Replaced the GNU data structures SLList and DLList with the STL container</span>
00527 <span class="comment"> * class vector&lt;&gt;. To maintain use of Pix, changed the Pix.h header file to</span>
00528 <span class="comment"> * redefine Pix to be an IteratorAdapter. Usage remains the same and all code</span>
00529 <span class="comment"> * outside of the DAP should compile and link with no problems. Added methods</span>
00530 <span class="comment"> * to the different classes where Pix is used to include methods to use STL</span>
00531 <span class="comment"> * iterators. Replaced the use of Pix within the DAP to use iterators instead.</span>
00532 <span class="comment"> * Updated comments for documentation, updated the test suites, and added some</span>
00533 <span class="comment"> * unit tests. Updated the Makefile to remove GNU/SLList and GNU/DLList.</span>
00534 <span class="comment"> *</span>
00535 <span class="comment"> * Revision 1.67  2002/06/18 15:36:24  tom</span>
00536 <span class="comment"> * Moved comments and edited to accommodate doxygen documentation-generator.</span>
00537 <span class="comment"> *</span>
00538 <span class="comment"> * Revision 1.66  2002/06/03 22:21:15  jimg</span>
00539 <span class="comment"> * Merged with release-3-2-9</span>
00540 <span class="comment"> *</span>
00541 <span class="comment"> * Revision 1.61.4.10  2002/05/09 16:56:17  jimg</span>
00542 <span class="comment"> * The read method is no longer abstract. BaseType implements a version that</span>
00543 <span class="comment"> * throws InternalErr when called. See BaseType.cc.</span>
00544 <span class="comment"> *</span>
00545 <span class="comment"> * Revision 1.61.4.9  2002/03/01 21:03:08  jimg</span>
00546 <span class="comment"> * Significant changes to the var(...) methods. These now take a btp_stack</span>
00547 <span class="comment"> * pointer and are used by DDS::mark(...). The exact_match methods have also</span>
00548 <span class="comment"> * been updated so that leaf variables which contain dots in their names</span>
00549 <span class="comment"> * will be found. Note that constructor variables with dots in their names</span>
00550 <span class="comment"> * will break the lookup routines unless the ctor is the last field in the</span>
00551 <span class="comment"> * constraint expression. These changes were made to fix bug 330.</span>
00552 <span class="comment"> *</span>
00553 <span class="comment"> * Revision 1.61.4.8  2002/01/30 19:05:21  jimg</span>
00554 <span class="comment"> * Fixed some of the doc++ comment about read(). It still needs work.</span>
00555 <span class="comment"> *</span>
00556 <span class="comment"> * Revision 1.65  2001/10/14 01:28:38  jimg</span>
00557 <span class="comment"> * Merged with release-3-2-8.</span>
00558 <span class="comment"> *</span>
00559 <span class="comment"> * Revision 1.61.4.7  2001/10/02 16:47:16  jimg</span>
00560 <span class="comment"> * Changed the documentation comments for serialize and deserialize.</span>
00561 <span class="comment"> *</span>
00562 <span class="comment"> * Revision 1.64  2001/09/28 17:50:07  jimg</span>
00563 <span class="comment"> * Merged with 3.2.7.</span>
00564 <span class="comment"> *</span>
00565 <span class="comment"> * Revision 1.61.4.6  2001/09/07 00:38:34  jimg</span>
00566 <span class="comment"> * Sequence::deserialize(...) now reads all the sequence values at once.</span>
00567 <span class="comment"> * Its call semantics are the same as the other classes' versions. Values</span>
00568 <span class="comment"> * are stored in the Sequence object using a vector&lt;BaseType *&gt; for each</span>
00569 <span class="comment"> * row (those are themselves held in a vector). Three new accessor methods</span>
00570 <span class="comment"> * have been added to Sequence (row_value() and two versions of var_value()).</span>
00571 <span class="comment"> * BaseType::deserialize(...) now always returns true. This matches with the</span>
00572 <span class="comment"> * expectations of most client code (the seqeunce version returned false</span>
00573 <span class="comment"> * when it was done reading, but all the calls for sequences must be changed</span>
00574 <span class="comment"> * anyway). If an XDR error is found, deserialize throws InternalErr.</span>
00575 <span class="comment"> *</span>
00576 <span class="comment"> * Revision 1.63  2001/08/27 16:38:34  jimg</span>
00577 <span class="comment"> * Merged with release-3-2-6</span>
00578 <span class="comment"> *</span>
00579 <span class="comment"> * Revision 1.61.4.5  2001/08/21 16:32:18  dan</span>
00580 <span class="comment"> * Changed set_name accessor to 'virtual void' so that name fields</span>
00581 <span class="comment"> * of subclassed types could be accessed through the BaseType pointer.</span>
00582 <span class="comment"> *</span>
00583 <span class="comment"> * Revision 1.61.4.4  2001/08/18 01:48:11  jimg</span>
00584 <span class="comment"> * Removed WIN32 compile guards from using statements.</span>
00585 <span class="comment"> *</span>
00586 <span class="comment"> * Revision 1.62  2001/06/15 23:49:01  jimg</span>
00587 <span class="comment"> * Merged with release-3-2-4.</span>
00588 <span class="comment"> *</span>
00589 <span class="comment"> * Revision 1.61.4.3  2001/06/07 16:58:50  jimg</span>
00590 <span class="comment"> * Comment/doc fixes.</span>
00591 <span class="comment"> *</span>
00592 <span class="comment"> * Revision 1.61.4.2  2001/06/05 06:49:19  jimg</span>
00593 <span class="comment"> * Added the Constructor class which is to Structures, Sequences and Grids</span>
00594 <span class="comment"> * what Vector is to Arrays and Lists. This should be used in future</span>
00595 <span class="comment"> * refactorings (I thought it was going to be used for the back pointers).</span>
00596 <span class="comment"> * Introduced back pointers so children can refer to their parents in</span>
00597 <span class="comment"> * hierarchies of variables.</span>
00598 <span class="comment"> * Added to Sequence methods to tell if a child sequence is done</span>
00599 <span class="comment"> * deserializing its data.</span>
00600 <span class="comment"> * Fixed the operator=() and copy ctors; removed redundency from</span>
00601 <span class="comment"> * _duplicate().</span>
00602 <span class="comment"> * Changed the way serialize and deserialize work for sequences. Now SOI and</span>
00603 <span class="comment"> * EOS markers are written for every `level' of a nested Sequence. This</span>
00604 <span class="comment"> * should fixed nested Sequences. There is still considerable work to do</span>
00605 <span class="comment"> * for these to work in all cases.</span>
00606 <span class="comment"> *</span>
00607 <span class="comment"> * Revision 1.61.4.1  2001/05/12 00:01:07  jimg</span>
00608 <span class="comment"> * Added the method toString(). Used for debugging</span>
00609 <span class="comment"> *</span>
00610 <span class="comment"> * Revision 1.61  2000/10/06 01:26:04  jimg</span>
00611 <span class="comment"> * Changed the way serialize() calls read(). The status from read() is</span>
00612 <span class="comment"> * returned by the Structure and Sequence serialize() methods; ignored by</span>
00613 <span class="comment"> * all others. Any exceptions thrown by read() are caught and discarded.</span>
00614 <span class="comment"> * serialize() returns false if read() throws an exception. This should</span>
00615 <span class="comment"> * be fixed once all the servers build using the new read() definition.</span>
00616 <span class="comment"> *</span>
00617 <span class="comment"> * Revision 1.60  2000/09/22 02:52:58  jimg</span>
00618 <span class="comment"> * Fixes to the tests to recognize some of the new error messages. Also,</span>
00619 <span class="comment"> * the test drivers were modified to catch the exceptions now thrown by</span>
00620 <span class="comment"> * some of the parsers.</span>
00621 <span class="comment"> *</span>
00622 <span class="comment"> * Revision 1.59  2000/09/22 02:17:18  jimg</span>
00623 <span class="comment"> * Rearranged source files so that the CVS logs appear at the end rather than</span>
00624 <span class="comment"> * the start. Also made the ifdef guard symbols use the same naming scheme and</span>
00625 <span class="comment"> * wrapped headers included in other headers in those guard symbols (to cut</span>
00626 <span class="comment"> * down on extraneous file processing - See Lakos).</span>
00627 <span class="comment"> *</span>
00628 <span class="comment"> * Revision 1.58  2000/09/21 16:22:07  jimg</span>
00629 <span class="comment"> * Merged changes from Jose Garcia that add exceptions to the software.</span>
00630 <span class="comment"> * Many methods that returned error codes now throw exectptions. There are</span>
00631 <span class="comment"> * two classes which are thrown by the software, Error and InternalErr.</span>
00632 <span class="comment"> * InternalErr is used to report errors within the library or errors using</span>
00633 <span class="comment"> * the library. Error is used to reprot all other errors. Since InternalErr</span>
00634 <span class="comment"> * is a subclass of Error, programs need only to catch Error.</span>
00635 <span class="comment"> *</span>
00636 <span class="comment"> * Revision 1.57  2000/09/11 16:33:29  jimg</span>
00637 <span class="comment"> * Fixed up the comments/docs.</span>
00638 <span class="comment"> *</span>
00639 <span class="comment"> * Revision 1.56  2000/08/02 22:46:48  jimg</span>
00640 <span class="comment"> * Merged 3.1.8</span>
00641 <span class="comment"> *</span>
00642 <span class="comment"> * Revision 1.53.6.1  2000/08/02 21:10:07  jimg</span>
00643 <span class="comment"> * Removed the header config_dap.h. If this file uses the dods typedefs for</span>
00644 <span class="comment"> * cardinal datatypes, then it gets those definitions from the header</span>
00645 <span class="comment"> * dods-datatypes.h.</span>
00646 <span class="comment"> *</span>
00647 <span class="comment"> * Revision 1.55  2000/07/09 21:57:09  rmorris</span>
00648 <span class="comment"> * Mods's to increase portability, minimuze ifdef's in win32 and account</span>
00649 <span class="comment"> * for differences between the Standard C++ Library - most notably, the</span>
00650 <span class="comment"> * iostream's.</span>
00651 <span class="comment"> *</span>
00652 <span class="comment"> * Revision 1.54  2000/06/07 18:06:58  jimg</span>
00653 <span class="comment"> * Merged the pc port branch</span>
00654 <span class="comment"> *</span>
00655 <span class="comment"> * Revision 1.53.20.1  2000/06/02 18:11:19  rmorris</span>
00656 <span class="comment"> * Mod's for Port to Win32.</span>
00657 <span class="comment"> *</span>
00658 <span class="comment"> * Revision 1.53.14.1  2000/01/28 22:14:04  jgarcia</span>
00659 <span class="comment"> * Added exception handling and modify add_var to get a copy of the object</span>
00660 <span class="comment"> *</span>
00661 <span class="comment"> * Revision 1.53  1999/05/04 19:47:20  jimg</span>
00662 <span class="comment"> * Fixed copyright statements. Removed more of the GNU classes.</span>
00663 <span class="comment"> *</span>
00664 <span class="comment"> * Revision 1.52  1999/04/29 02:29:27  jimg</span>
00665 <span class="comment"> * Merge of no-gnu branch</span>
00666 <span class="comment"> *</span>
00667 <span class="comment"> * Revision 1.51  1999/03/24 23:37:13  jimg</span>
00668 <span class="comment"> * Added support for the Int16, UInt16 and Float32 types</span>
00669 <span class="comment"> *</span>
00670 <span class="comment"> * Revision 1.50  1999/03/19 16:45:00  jimg</span>
00671 <span class="comment"> * Added to the documentation for print_val(). Now contains a blurb about</span>
00672 <span class="comment"> * setprecision().</span>
00673 <span class="comment"> *</span>
00674 <span class="comment"> * Revision 1.49  1999/01/21 20:42:00  tom</span>
00675 <span class="comment"> * Fixed comment formatting problems for doc++</span>
00676 <span class="comment"> *</span>
00677 <span class="comment"> * Revision 1.48  1998/11/23 15:05:55  tom</span>
00678 <span class="comment"> * late modifications to documentation</span>
00679 <span class="comment"> *</span>
00680 <span class="comment"> * Revision 1.47  1998/11/10 01:10:25  jimg</span>
00681 <span class="comment"> * Changed text of regexp error message.</span>
00682 <span class="comment"> *</span>
00683 <span class="comment"> * Revision 1.46  1998/10/21 16:19:47  jimg</span>
00684 <span class="comment"> * Added the two member functions: synthesized_p() and set_synthesized_p().</span>
00685 <span class="comment"> * These are used to test and record (resp) whether a variable has been</span>
00686 <span class="comment"> * synthesized by the server or is part of the data set. This feature was</span>
00687 <span class="comment"> * added to help support the creation of variables by the new projection</span>
00688 <span class="comment"> * functions. Variables that are created by projection function calls are</span>
00689 <span class="comment"> * called `synthesized variables'. Some documentation strings were fixed.</span>
00690 <span class="comment"> *</span>
00691 <span class="comment"> * Revision 1.45  1998/09/17 17:22:47  jimg</span>
00692 <span class="comment"> * Fix documentation.</span>
00693 <span class="comment"> * Added BaseType * stack definition using the STL vector class.</span>
00694 <span class="comment"> *</span>
00695 <span class="comment"> * Revision 1.44.2.1  1999/02/02 21:56:55  jimg</span>
00696 <span class="comment"> * String to string version</span>
00697 <span class="comment"> *</span>
00698 <span class="comment"> * Revision 1.44  1998/08/06 16:08:51  jimg</span>
00699 <span class="comment"> * Fixed some of the doc comments.</span>
00700 <span class="comment"> *</span>
00701 <span class="comment"> * Revision 1.43  1998/07/13 20:20:42  jimg</span>
00702 <span class="comment"> * Fixes from the final test of the new build process</span>
00703 <span class="comment"> *</span>
00704 <span class="comment"> * Revision 1.42  1998/03/17 17:18:52  jimg</span>
00705 <span class="comment"> * Added mfuncs element_count(), is_simple_type(), is_vector_type() and</span>
00706 <span class="comment"> * is_comstructor_type().</span>
00707 <span class="comment"> *</span>
00708 <span class="comment"> * Revision 1.41  1998/02/05 20:13:50  jimg</span>
00709 <span class="comment"> * DODS now compiles with gcc 2.8.x</span>
00710 <span class="comment"> *</span>
00711 <span class="comment"> * Revision 1.40  1998/02/04 14:55:30  tom</span>
00712 <span class="comment"> * Another draft of documentation.</span>
00713 <span class="comment"> *</span>
00714 <span class="comment"> * Revision 1.39  1998/01/12 14:27:55  tom</span>
00715 <span class="comment"> * Second pass at class documentation.</span>
00716 <span class="comment"> *</span>
00717 <span class="comment"> * Revision 1.38  1997/12/18 15:06:09  tom</span>
00718 <span class="comment"> * First draft of class documentation, entered in doc++ format,</span>
00719 <span class="comment"> * in the comments</span>
00720 <span class="comment"> *</span>
00721 <span class="comment"> * Revision 1.37  1997/10/09 22:19:11  jimg</span>
00722 <span class="comment"> * Resolved conflicts in merge of 2.14c to trunk.</span>
00723 <span class="comment"> *</span>
00724 <span class="comment"> * Revision 1.36  1997/08/11 20:18:29  jimg</span>
00725 <span class="comment"> * Really fixed the comment leaders this time...</span>
00726 <span class="comment"> *</span>
00727 <span class="comment"> * Revision 1.35  1997/08/11 18:19:12  jimg</span>
00728 <span class="comment"> * Fixed comment leaders for new CVS version</span>
00729 <span class="comment"> *</span>
00730 <span class="comment"> * Revision 1.34  1997/03/08 19:01:57  jimg</span>
00731 <span class="comment"> * Changed default param to check_semantics() from  to String()</span>
00732 <span class="comment"> * and removed the default from the argument list in the mfunc definition</span>
00733 <span class="comment"> *</span>
00734 <span class="comment"> * Revision 1.33  1997/02/28 01:27:52  jimg</span>
00735 <span class="comment"> * Changed check_semantics() so that it now returns error messages in a String</span>
00736 <span class="comment"> * object (passed by reference).</span>
00737 <span class="comment"> *</span>
00738 <span class="comment"> * Revision 1.32  1996/12/02 23:10:04  jimg</span>
00739 <span class="comment"> * Added dataset as a parameter to the ops member function.</span>
00740 <span class="comment"> *</span>
00741 <span class="comment"> * Revision 1.31  1996/11/20 00:58:05  jimg</span>
00742 <span class="comment"> * Ripped out old code.</span>
00743 <span class="comment"> *</span>
00744 <span class="comment"> * Revision 1.30  1996/09/19 16:14:26  jimg</span>
00745 <span class="comment"> * Fixed syntax errors in the enum `Type'.</span>
00746 <span class="comment"> *</span>
00747 <span class="comment"> * Revision 1.29  1996/08/26 19:36:41  jimg</span>
00748 <span class="comment"> * Added type constants for 32 bit unsigned ints, 16 bit signed and unsigned</span>
00749 <span class="comment"> * ints and 32 bit floats.</span>
00750 <span class="comment"> *</span>
00751 <span class="comment"> * Revision 1.28  1996/06/04 21:33:11  jimg</span>
00752 <span class="comment"> * Multiple connections are now possible. It is now possible to open several</span>
00753 <span class="comment"> * URLs at the same time and read from them in a round-robin fashion. To do</span>
00754 <span class="comment"> * this I added data source and sink parameters to the serialize and</span>
00755 <span class="comment"> * deserialize mfuncs. Connect was also modified so that it manages the data</span>
00756 <span class="comment"> * source `object' (which is just an XDR pointer).</span>
00757 <span class="comment"> *</span>
00758 <span class="comment"> * Revision 1.27  1996/05/31 23:29:25  jimg</span>
00759 <span class="comment"> * Updated copyright notice.</span>
00760 <span class="comment"> *</span>
00761 <span class="comment"> * Revision 1.26  1996/05/16 22:49:56  jimg</span>
00762 <span class="comment"> * Dan's changes for version 2.0. Added a parameter to read that returns</span>
00763 <span class="comment"> * an error code so that EOF can be distinguished from an actual error when</span>
00764 <span class="comment"> * reading sequences. This *may* be replaced by an error member function</span>
00765 <span class="comment"> * in the future.</span>
00766 <span class="comment"> *</span>
00767 <span class="comment"> * Revision 1.25  1996/05/14 15:38:16  jimg</span>
00768 <span class="comment"> * These changes have already been checked in once before. However, I</span>
00769 <span class="comment"> * corrupted the source repository and restored it from a 5/9/96 backup</span>
00770 <span class="comment"> * tape. The previous version's log entry should cover the changes.</span>
00771 <span class="comment"> *</span>
00772 <span class="comment"> * Revision 1.24  1996/04/05 00:21:23  jimg</span>
00773 <span class="comment"> * Compiled with g++ -Wall and fixed various warnings.</span>
00774 <span class="comment"> *</span>
00775 <span class="comment"> * Revision 1.23  1996/04/04 17:29:42  jimg</span>
00776 <span class="comment"> * Merged recent changes from version 1.1.1 (including changes for the Type</span>
00777 <span class="comment"> * enum which caused a problem on the SGI).</span>
00778 <span class="comment"> *</span>
00779 <span class="comment"> * Revision 1.22  1996/03/05 18:44:52  jimg</span>
00780 <span class="comment"> * Added ce_eval to serailize member function.</span>
00781 <span class="comment"> * Added ops member function.</span>
00782 <span class="comment"> *</span>
00783 <span class="comment"> * Revision 1.21  1996/02/02 00:31:00  jimg</span>
00784 <span class="comment"> * Merge changes for DODS-1.1.0 into DODS-2.x</span>
00785 <span class="comment"> *</span>
00786 <span class="comment"> * Revision 1.20  1995/12/09  01:06:33  jimg</span>
00787 <span class="comment"> * Added changes so that relational operators will work properly for all the</span>
00788 <span class="comment"> * datatypes (including Sequences). The relational ops are evaluated in</span>
00789 <span class="comment"> * DDS::eval_constraint() after being parsed by DDS::parse_constraint().</span>
00790 <span class="comment"> *</span>
00791 <span class="comment"> * Revision 1.19  1995/12/06  21:45:01  jimg</span>
00792 <span class="comment"> * Changed read() from three parameters to two.</span>
00793 <span class="comment"> * Added constrained flag to print_decl().</span>
00794 <span class="comment"> * Removed store_val() and read_val() (use buf2val() and val2buf() instead).</span>
00795 <span class="comment"> *</span>
00796 <span class="comment"> * Revision 1.18  1995/10/23  23:20:49  jimg</span>
00797 <span class="comment"> * Added _send_p and _read_p fields (and their accessors) along with the</span>
00798 <span class="comment"> * virtual mfuncs set_send_p() and set_read_p().</span>
00799 <span class="comment"> *</span>
00800 <span class="comment"> * Revision 1.17  1995/08/26  00:31:25  jimg</span>
00801 <span class="comment"> * Removed code enclosed in #ifdef NEVER #endif.</span>
00802 <span class="comment"> *</span>
00803 <span class="comment"> * Revision 1.16  1995/08/23  00:04:44  jimg</span>
00804 <span class="comment"> * Switched from String representation of data type to Type enum.</span>
00805 <span class="comment"> * Added type_name() member function so that it is simple to get the string</span>
00806 <span class="comment"> * representation of a variable's type.</span>
00807 <span class="comment"> * Changed the name of read_val/store_val to buf2val/val2buf.</span>
00808 <span class="comment"> *</span>
00809 <span class="comment"> * Revision 1.15.2.5  1996/02/27 23:48:28  jimg</span>
00810 <span class="comment"> * Fixed errors introduced in the last checkin.</span>
00811 <span class="comment"> *</span>
00812 <span class="comment"> * Revision 1.15.2.4  1996/02/23 21:37:23  jimg</span>
00813 <span class="comment"> * Updated for new configure.in.</span>
00814 <span class="comment"> * Fixed problems on Solaris 2.4.</span>
00815 <span class="comment"> *</span>
00816 <span class="comment"> * Revision 1.15.2.3  1995/09/29  19:27:59  jimg</span>
00817 <span class="comment"> * Fixed problems with xdr.h on an SGI.</span>
00818 <span class="comment"> * Fixed conflict of d_int32_t (which was in an enum type defined by</span>
00819 <span class="comment"> * BaseType) on the SGI.</span>
00820 <span class="comment"> *</span>
00821 <span class="comment"> * Revision 1.15.2.2  1995/09/27  19:06:58  jimg</span>
00822 <span class="comment"> * Add casts to `cast away' const and unsigned in places where we call various</span>
00823 <span class="comment"> * xdr functions (which don't know about, or use, const or unsigned.</span>
00824 <span class="comment"> *</span>
00825 <span class="comment"> * Revision 1.15.2.1  1995/09/14  16:45:20  jimg</span>
00826 <span class="comment"> * Changed _duplicate() member function from private to protected so that the</span>
00827 <span class="comment"> * chilren of BaseType can call it in their implementations of _duplicate().</span>
00828 <span class="comment"> *</span>
00829 <span class="comment"> * Revision 1.15  1995/05/10  13:45:09  jimg</span>
00830 <span class="comment"> * Changed the name of the configuration header file from `config.h' to</span>
00831 <span class="comment"> * `config_dap.h' so that other libraries could have header files which were</span>
00832 <span class="comment"> * installed in the DODS include directory without overwriting this one. Each</span>
00833 <span class="comment"> * config header should follow the convention config_&lt;name&gt;.h.</span>
00834 <span class="comment"> *</span>
00835 <span class="comment"> * Revision 1.14  1995/03/04  14:34:56  jimg</span>
00836 <span class="comment"> * Major modifications to the transmission and representation of values:</span>
00837 <span class="comment"> * Added card() virtual function which is true for classes that</span>
00838 <span class="comment"> * contain cardinal types (byte, int float, string).</span>
00839 <span class="comment"> * Changed the representation of Str from the C rep to a C++</span>
00840 <span class="comment"> * class represenation.</span>
00841 <span class="comment"> * Chnaged read_val and store_val so that they take and return</span>
00842 <span class="comment"> * types that are stored by the object (e.g., inthe case of Str</span>
00843 <span class="comment"> * an URL, read_val returns a C++ String object).</span>
00844 <span class="comment"> * Modified Array representations so that arrays of card()</span>
00845 <span class="comment"> * objects are just that - no more storing strings, ... as</span>
00846 <span class="comment"> * C would store them.</span>
00847 <span class="comment"> * Arrays of non cardinal types are arrays of the DODS objects (e.g.,</span>
00848 <span class="comment"> * an array of a structure is represented as an array of Structure</span>
00849 <span class="comment"> * objects).</span>
00850 <span class="comment"> *</span>
00851 <span class="comment"> * Revision 1.13  1995/02/16  22:46:02  jimg</span>
00852 <span class="comment"> * Added _in private member. It is used to keep a copy of the input FILE *</span>
00853 <span class="comment"> * so that when the next chunk of data is read in the previous one can be</span>
00854 <span class="comment"> * closed. Since the netio library unlinks the tmp file before returning</span>
00855 <span class="comment"> * the FILE *, closing it effectively deletes the tmp file.</span>
00856 <span class="comment"> *</span>
00857 <span class="comment"> * Revision 1.12  1995/02/10  02:41:58  jimg</span>
00858 <span class="comment"> * Added new mfuncs to access _name and _type.</span>
00859 <span class="comment"> * Made private and protected filed's names start with `_'.</span>
00860 <span class="comment"> * Added store_val() as a abstract virtual mfunc.</span>
00861 <span class="comment"> *</span>
00862 <span class="comment"> * Revision 1.11  1995/01/19  21:59:10  jimg</span>
00863 <span class="comment"> * Added read_val from dummy_read.cc to the sample set of sub-class</span>
00864 <span class="comment"> * implementations.</span>
00865 <span class="comment"> * Changed the declaration of readVal in BaseType so that it names the</span>
00866 <span class="comment"> * mfunc read_val (to be consistant with the other mfunc names).</span>
00867 <span class="comment"> * Removed the unnecessary duplicate declaration of the abstract virtual</span>
00868 <span class="comment"> * mfuncs read and (now) read_val from the classes Byte, ... Grid. The</span>
00869 <span class="comment"> * declaration in BaseType is sufficient along with the decl and definition</span>
00870 <span class="comment"> * in the *.cc,h files which contain the subclasses for Byte, ..., Grid.</span>
00871 <span class="comment"> *</span>
00872 <span class="comment"> * Revision 1.10  1995/01/18  18:35:28  dan</span>
00873 <span class="comment"> * Defined abstract virtual function 'readVal' which provides access</span>
00874 <span class="comment"> * to the object's buf for retrieving data subsequent to deserializing.</span>
00875 <span class="comment"> *</span>
00876 <span class="comment"> * Revision 1.9  1995/01/11  16:06:48  jimg</span>
00877 <span class="comment"> * Added static XDR pointers to BaseType class and removed the XDR pointers</span>
00878 <span class="comment"> * that were class members - now there is only one xdrin and one xdrout</span>
00879 <span class="comment"> * for all children of BaseType.</span>
00880 <span class="comment"> * Added friend functions to help in setting the FILE * associated with</span>
00881 <span class="comment"> * the XDR *s.</span>
00882 <span class="comment"> * Removed FILE *in member (but FILE *out was kept as FILE * _out, mfunc</span>
00883 <span class="comment"> * expunge()).</span>
00884 <span class="comment"> * Changed ctor so that it no longer takes FILE * params.</span>
00885 <span class="comment"> *</span>
00886 <span class="comment"> * Revision 1.8  1994/12/16  22:04:21  jimg</span>
00887 <span class="comment"> * Added the mfuncs var() and add_var(). These are used by ctor types. They</span>
00888 <span class="comment"> * need to be defined here so that access to them via BaseType * will work</span>
00889 <span class="comment"> * (actually, so the code will compile). These versions just print error</span>
00890 <span class="comment"> * messages. See Array.h, ... for examples of the real mfuncs.</span>
00891 <span class="comment"> *</span>
00892 <span class="comment"> * Revision 1.7  1994/12/12  20:33:03  jimg</span>
00893 <span class="comment"> * Added enum Part - used to be part of CtorType.</span>
00894 <span class="comment"> *</span>
00895 <span class="comment"> * Revision 1.6  1994/11/29  19:14:15  jimg</span>
00896 <span class="comment"> * Added mroe support for data transmission; BaseType now contains enough</span>
00897 <span class="comment"> * functionality to support transmission of all the simple datatypes.</span>
00898 <span class="comment"> * Added in and out FILE *.</span>
00899 <span class="comment"> * Added boolean flag in serialize which will cause the output buffer to</span>
00900 <span class="comment"> * be flushed when data is serialized.</span>
00901 <span class="comment"> * Added xdr_coder for serialization of arrays and lists.</span>
00902 <span class="comment"> *</span>
00903 <span class="comment"> * Revision 1.5  1994/11/22  14:05:29  jimg</span>
00904 <span class="comment"> * Added code for data transmission to parts of the type hierarchy. Not</span>
00905 <span class="comment"> * complete yet.</span>
00906 <span class="comment"> * Fixed erros in type hierarchy headers (typos, incorrect comments, ...).</span>
00907 <span class="comment"> *</span>
00908 <span class="comment"> * Revision 1.4  1994/10/17  23:30:47  jimg</span>
00909 <span class="comment"> * Added ptr_duplicate virtual mfunc. Child classes can also define this</span>
00910 <span class="comment"> * to copy parts that BaseType does not have (and allocate correctly sized</span>
00911 <span class="comment"> * pointers.</span>
00912 <span class="comment"> * Removed protected mfunc error() -- use errmsg library instead.</span>
00913 <span class="comment"> * Added formatted printing of types (works with DDS::print()).</span>
00914 <span class="comment"> *</span>
00915 <span class="comment"> * Revision 1.3  1994/09/23  14:34:44  jimg</span>
00916 <span class="comment"> * Added mfunc check_semantics().</span>
00917 <span class="comment"> * Moved definition of dtor to BaseType.cc.</span>
00918 <span class="comment"> *</span>
00919 <span class="comment"> * Revision 1.2  1994/09/15  21:08:56  jimg</span>
00920 <span class="comment"> * Added many classes to the BaseType hierarchy - the complete set of types</span>
00921 <span class="comment"> * described in the DODS API design documet is now represented.</span>
00922 <span class="comment"> * The parser can parse DDS files.</span>
00923 <span class="comment"> * Fixed many small problems with BaseType.</span>
00924 <span class="comment"> * Added CtorType.</span>
00925 <span class="comment"> *</span>
00926 <span class="comment"> * Revision 1.1  1994/09/09  15:28:42  jimg</span>
00927 <span class="comment"> * Class for base type variables. Int32, ... inherit from this class.</span>
00928 <span class="comment"> */</span>
00929 
00930 <span class="preprocessor">#endif // _basetype_h</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Feb 4 23:42:56 2004 for libdap++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
