<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libdap++: cgi_util.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>cgi_util.h File Reference</h1><code>#include "<a class="el" href="DDS_8h-source.html">DDS.h</a>"</code><br>
<code>#include "<a class="el" href="ObjectType_8h-source.html">ObjectType.h</a>"</code><br>
<code>#include "<a class="el" href="EncodingType_8h-source.html">EncodingType.h</a>"</code><br>

<p>
Include dependency graph for cgi_util.h:<p><center><img src="cgi__util_8h__incl.png" border="0" usemap="#cgi_util.h_map" alt="Include dependency graph"></center>
<map name="cgi_util.h_map">
<area href="DDS_8h.html" shape="rect" coords="352,294,400,313" alt="">
<area href="InternalErr_8h.html" shape="rect" coords="297,156,377,174" alt="">
<area href="Error_8h.html" shape="rect" coords="279,86,327,105" alt="">
<area href="BaseType_8h.html" shape="rect" coords="335,225,417,244" alt="">
<area href="dods-datatypes_8h.html" shape="rect" coords="503,156,615,174" alt="">
<area href="Clause_8h.html" shape="rect" coords="791,225,852,244" alt="">
<area href="RValue_8h.html" shape="rect" coords="865,156,929,174" alt="">
<area href="ObjectType_8h.html" shape="rect" coords="424,294,515,313" alt="">
<area href="EncodingType_8h.html" shape="rect" coords="539,294,645,313" alt="">
</map>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="cgi__util_8h__dep__incl.png" border="0" usemap="#cgi_util.hdep_map" alt="Included by dependency graph"></center>
<map name="cgi_util.hdep_map">
<area href="cgi__util_8cc.html" shape="rect" coords="7,155,79,174" alt="">
<area href="DDS_8cc.html" shape="rect" coords="103,155,159,174" alt="">
<area href="DODSFilter_8cc.html" shape="rect" coords="179,17,275,35" alt="">
<area href="EventHandler_8h.html" shape="rect" coords="233,155,335,174" alt="">
<area href="SignalHandler_8h.html" shape="rect" coords="284,86,391,105" alt="">
<area href="SignalHandler_8cc.html" shape="rect" coords="299,17,413,35" alt="">
<area href="server__handler_8cc.html" shape="rect" coords="359,155,479,174" alt="">
<area href="usage_8cc.html" shape="rect" coords="503,155,569,174" alt="">
</map>

<p>
<a href="cgi__util_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>CGI Utilities</h2></td></tr>
<tr><td colspan=2>A collection of useful functions for writing DODS servers.<p>
The CGI utilities include a variety of functions useful to programmers developing DODS CGI filter programs. However, before jumping in and using these, look at the class <a class="el" href="classDODSFilter.html">DODSFilter</a>. Always choose to use that class over these functions if you can.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDODSFilter.html">DODSFilter</a> </dd></dl>
<br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a0">do_version</a> (const  string &amp;script_ver, const  string &amp;dataset_ver)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a version number. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a1">do_data_transfer</a> (bool compression, FILE *data_stream, <a class="el" href="classDDS.html">DDS</a> &amp;dds, const  string &amp;dataset, const  string &amp;constraint)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send data. (deprecated). </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a2">find_ancillary_file</a> (string pathname, string ext, string dir, string file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a file with ancillary data. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a3">find_group_ancillary_file</a> (string pathname, string ext)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a4">ErrMsgT</a> (const  string &amp;Msgt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Logs an error message. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a5">name_path</a> (const  string &amp;path)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the filename portion of a pathname. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a6">rfc822_date</a> (const  time_t t)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>time_t&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a7">last_modified_time</a> (string name)</td></tr>

<tr><td colspan=2><br><h2>Functions to write MIME headers</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a8">set_mime_text</a> (ostream &amp;os, <a class="el" href="ObjectType_8h.html#a6">ObjectType</a> type=unknown_type, const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="", <a class="el" href="EncodingType_8h.html#a3">EncodingType</a> enc=x_plain, const  time_t last_modified=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the MIME type to text. </em> <a href="#a8"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a9">set_mime_text</a> (FILE *out, <a class="el" href="ObjectType_8h.html#a6">ObjectType</a> type=unknown_type, const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="", <a class="el" href="EncodingType_8h.html#a3">EncodingType</a> enc=x_plain, const  time_t last_modified=0)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a10">set_mime_binary</a> (ostream &amp;os, <a class="el" href="ObjectType_8h.html#a6">ObjectType</a> type=unknown_type, const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="", <a class="el" href="EncodingType_8h.html#a3">EncodingType</a> enc=x_plain, const  time_t last_modified=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create MIME headers for binary data. </em> <a href="#a10"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a11">set_mime_binary</a> (FILE *out, <a class="el" href="ObjectType_8h.html#a6">ObjectType</a> type=unknown_type, const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="", <a class="el" href="EncodingType_8h.html#a3">EncodingType</a> enc=x_plain, const  time_t last_modified=0)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a12">set_mime_error</a> (ostream &amp;os, int code=404, const  string &amp;reason="Dataset not found", const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="")</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the MIME text type to ``error.''. </em> <a href="#a12"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a13">set_mime_error</a> (FILE *out, int code=404, const  string &amp;reason="Dataset not found", const  string &amp;<a class="el" href="gse-test_8cc.html#a3">version</a>="")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a14">set_mime_not_modified</a> (ostream &amp;os)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a15">set_mime_not_modified</a> (FILE *out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a `Not Modified' response. </em> <a href="#a15"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a16">get_user_supplied_docs</a> (string name, string cgi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Look for the user supplied CGI- and dataset-specific HTML* documents. </em> <a href="#a16"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a17">remove_mime_header</a> (FILE *in)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read and discard the MIME header of the stream <code>in</code>. </em> <a href="#a17"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="cgi__util_8h.html#a18">found_override</a> (string name, string &amp;doc)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a1" doxytag="cgi_util.h::do_data_transfer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool do_data_transfer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname" nowrap> <em>compression</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>data_stream</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="classDDS.html">DDS</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dds</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dataset</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>constraint</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sends data to the client.<p>
This function has been superseded by the <a class="el" href="classDODSFilter.html#DODSFiltera33">DODSFilter::send_data()</a> mfunc.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000029">Deprecated:</a></b></dt><dd>Use DODSFilter's methods instead. </dd></dl>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>compression</em>&nbsp;</td><td>A Boolean value indicating whether the data is to be sent in compressed form or not. A value of TRUE indicates that the data is to be comressed. </td></tr>
    <tr><td valign=top><em>data_stream</em>&nbsp;</td><td>A file pointer indicating where to print the data. This is typically an XDR pointer. </td></tr>
    <tr><td valign=top><em>dds</em>&nbsp;</td><td>The DODS Dataset Descriptor <a class="el" href="classStructure.html">Structure</a> of the dataset whose data is to be sent. The <code>do_data_transfer</code> uses the <code>send</code> method of this <a class="el" href="classDDS.html">DDS</a> to do the sending. </td></tr>
    <tr><td valign=top><em>dataset</em>&nbsp;</td><td>The (local) name of the dataset whose data is to be sent. </td></tr>
    <tr><td valign=top><em>constraint</em>&nbsp;</td><td>A constraint expression that may have been sent with the original data request. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE for success, FALSE otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00150">150</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="util_8cc-source.html#l00302">compressor()</a>, <a class="el" href="debug_8h-source.html#l00057">DBG</a>, <a class="el" href="cgi__util_8cc-source.html#l00356">ErrMsgT()</a>, and <a class="el" href="DDS_8cc-source.html#l01131">DDS::send()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="cgi_util.h::do_version" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool do_version </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>script_ver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dataset_ver</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This sends a formatted block of text to the client, containing version information about various aspects of the server. The arguments allow you to enclose version information about the filter program and the dataset in the message. Either argument (or both) may be omitted, in which case no script or dataset version information will be printed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>script_ver</em>&nbsp;</td><td>The version of the filter script executing this function. </td></tr>
    <tr><td valign=top><em>dataset_ver</em>&nbsp;</td><td>The version of the dataset. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE for success. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00108">108</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="config__dap_8h-source.html#l00055">DVR</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="cgi_util.h::ErrMsgT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ErrMsgT </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Msgt</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Prints an error message in the <code>httpd</code> system log file, along with a time stamp and the client host name (or address).<p>
Use this instead of the functions in liberrmsg.a in the programs run by the CGIs to report errors so those errors show up in HTTPD's log files.<p>
<dl compact><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00356">356</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
Referenced by <a class="el" href="cgi__util_8cc-source.html#l00150">do_data_transfer()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00566">DODSFilter::print_usage()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="cgi_util.h::find_ancillary_file" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string find_ancillary_file </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>pathname</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>dir</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>file</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function accepts a dataset path name, and searches for a matching ancillary data file name with a very specific set of search rules, given here:<p>
<pre><div>
    directory           filename          extension
    same                same            `.'given
    given               same            `.'given
    same                given           `.'given
    given               given           `.'given
    </pre></div><p>
Where ``same'' refers to the input dataset pathname, and ``given'' refers to the function arguments.<p>
For example, If you call this function with a dataset name of <code>/a/data</code>, an extension of <code>das</code>, a directory of <code>b</code>, and a filename of <code>ralph</code>, the function will look (in order) for the following files:<p>
<pre><div>
    /a/data.das
    /b/data.das
    /a/ralph.das
    /b/ralph.das
    </pre></div><p>
The function will return a string containing the name of the first file in the list that exists, if any.<p>
<dl compact><dt><b>Note:</b></dt><dd>This code now checks for <code>pathname.ext</code> 3/17/99 jhrg</dd></dl>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pathname</em>&nbsp;</td><td>The input pathname of a dataset. </td></tr>
    <tr><td valign=top><em>ext</em>&nbsp;</td><td>The input extension the desired file is to have. </td></tr>
    <tr><td valign=top><em>dir</em>&nbsp;</td><td>The input directory in which the desired file may be found. </td></tr>
    <tr><td valign=top><em>file</em>&nbsp;</td><td>The input filename the desired file may have. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A string containing the pathname of the file found by searching with the given components. If no file was found, the null string is returned. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00223">223</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="debug_8h-source.html#l00057">DBG</a>.
<p>
Referenced by <a class="el" href="DODSFilter_8cc-source.html#l00387">DODSFilter::get_das_last_modified_time()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00423">DODSFilter::get_data_last_modified_time()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00402">DODSFilter::get_dds_last_modified_time()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00510">DODSFilter::read_ancillary_das()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00536">DODSFilter::read_ancillary_dds()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="cgi_util.h::find_group_ancillary_file" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string find_group_ancillary_file </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>ext</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Assume that <code>name</code> refers to a file that is one of a group of files which share a common `base' name and differ only by some prefix or suffix digits (e.g. <code>00base</code>, <code>01base</code>, ... or <code>base00</code>, ... have the base name <code>base</code>). This function looks for a file <code>base.ext</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>name</em>&nbsp;</td><td>The name (full or relative) to one member of a group of files. </td></tr>
    <tr><td valign=top><em>ext</em>&nbsp;</td><td>The extension of the group's ancillary file. Note that <code>ext</code> should include a period (.) if that needs to separate the base name from the extension. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The pathname to the group's ancillary file if found, otherwise the empty string (""). </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00289">289</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="debug_8h-source.html#l00057">DBG</a>.
<p>
Referenced by <a class="el" href="cgi__util_8cc-source.html#l00819">get_user_supplied_docs()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="cgi_util.h::found_override" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool found_override </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>doc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Look for the override file by taking the dataset name and appending `.ovr' to it. If such a file exists, then read it in and store the contents in <code>doc</code>. Note that the file contents are not checked to see if they are valid HTML (which they must be).<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if the `override file' is present, false otherwise. in the later case <code>doc</code>'s contents are undefined. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00752">752</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
Referenced by <a class="el" href="usage_8cc-source.html#l00409">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="cgi_util.h::get_user_supplied_docs" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string get_user_supplied_docs </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>string&nbsp;</td>
          <td class="mdname" nowrap> <em>cgi</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Look in the CGI directory (given by <code>cgi</code>) for a per-cgi HTML* file. Also look for a dataset-specific HTML* document. Catenate the documents and return them in a single String variable.<p>
The <code>cgi</code> path must include the `API' prefix at the end of the path. For example, for the OPeNDAP server for version 3.4 on my machine is at <code>/home/jimg/DODS-3</code>.4/stc/nph-dods. The <code>cgi</code> path is <code></code>.../nph-dods/nc.<p>
Similarly, to locate the dataset-specific HTML* file it catenates `.html' to <code>name</code>, where <code>name</code> is the name of the dataset. If the filename part of <code>name</code> is of the form [A-Za-z]+[0-9]*.* then this function also looks for a file whose name is [A-Za-z]+.html For example, if <code>name</code> is .../data/fnoc1.nc this function first looks for .../data/fnoc1.nc.html. However, if that does not exist it will look for .../data/fnoc.html. This allows one `per-dataset' file to be used for a collection of files with the same root name.<p>
<dl compact><dt><b>Note:</b></dt><dd>An HTML* file contains HTML without the <code>html</code>, <code>head</code> or <code>body</code> tags (my own notation).</dd></dl>
<p>
<dl compact><dt><b>Returns:</b></dt><dd>A String which contains these two documents catenated. Documents that don't exist are treated as `empty'. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00819">819</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00289">find_group_ancillary_file()</a>.
<p>
Referenced by <a class="el" href="usage_8cc-source.html#l00409">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="cgi_util.h::last_modified_time" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> time_t last_modified_time </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the last modified time. Assume <code>name</code> is a file and find its last modified time. If <code>name</code> is not a file, then return now as the last modified time. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>name</em>&nbsp;</td><td>The name of a file. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The last modified time or the current time. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00484">484</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
Referenced by <a class="el" href="DODSFilter_8cc-source.html#l00387">DODSFilter::get_das_last_modified_time()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00423">DODSFilter::get_data_last_modified_time()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00372">DODSFilter::get_dataset_last_modified_time()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00402">DODSFilter::get_dds_last_modified_time()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="cgi_util.h::name_path" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string name_path </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const string &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>path</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Given a pathname, this function returns just the file name component of the path. That is, given <code>/a/b/c/ralph.nc.das</code>, it returns <code>ralph.nc</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>path</em>&nbsp;</td><td>A C-style simple string containing a pathname to be parsed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A C-style simple string containing the filename component of the given pathname. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00399">399</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00082">FILE_DELIMITER</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="cgi_util.h::remove_mime_header" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool remove_mime_header </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the input stream <code>in</code> and discard the MIME header. The MIME header is separated from the body of the document by a single blank line. If no MIME header is found, then the input stream is `emptied' and will contain nothing.<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if a MIME header is found, false otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00778">778</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
Referenced by <a class="el" href="usage_8cc-source.html#l00409">main()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="cgi_util.h::rfc822_date" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string rfc822_date </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const time_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>t</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Given a constant pointer to a <code>time_t</code>, return a RFC 822/1123 style date.<p>
This function returns the RFC 822 date with the exception that the RFC 1123 modification for four-digit years is implemented.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The RFC 822/1123 style date in a C++ string. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>t</em>&nbsp;</td><td>A const <code>time_t</code> pointer. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00461">461</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
Referenced by <a class="el" href="cgi__util_8cc-source.html#l00604">set_mime_binary()</a>, <a class="el" href="cgi__util_8cc-source.html#l00671">set_mime_error()</a>, <a class="el" href="cgi__util_8cc-source.html#l00718">set_mime_not_modified()</a>, and <a class="el" href="cgi__util_8cc-source.html#l00522">set_mime_text()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="cgi_util.h::set_mime_binary" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_binary </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="ObjectType_8h.html#a6">ObjectType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="EncodingType_8h.html#a3">EncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>enc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const time_t&nbsp;</td>
          <td class="mdname" nowrap> <em>last_modified</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write an HTTP 1.0 response header for our binary response document (i.e., the <a class="el" href="classDataDDS.html">DataDDS</a> object).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>out</em>&nbsp;</td><td>Write the MIME header to this FILE pointer. </td></tr>
    <tr><td valign=top><em>type</em>&nbsp;</td><td>The type of this this response. Defaults to application/octet-stream. </td></tr>
    <tr><td valign=top><em>ver</em>&nbsp;</td><td>The version string; denotes the DAP spec and implementation version. </td></tr>
    <tr><td valign=top><em>enc</em>&nbsp;</td><td>How is this response encoded? Can be plain or deflate or the x_... versions of those. Default is x_plain. </td></tr>
    <tr><td valign=top><em>last_modified</em>&nbsp;</td><td>The time to use for the Last-Modified header value. Default is zero which means use the current time. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00604">604</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="EncodingType_8h.html#a3a2">x_plain</a>.
<p>
Referenced by <a class="el" href="DDS_8cc-source.html#l01131">DDS::send()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00782">DODSFilter::send_data()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="cgi_util.h::set_mime_binary" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_binary </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ostream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>os</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="ObjectType_8h.html#a6">ObjectType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="EncodingType_8h.html#a3">EncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>enc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const time_t&nbsp;</td>
          <td class="mdname" nowrap> <em>last_modified</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to create a MIME header for a message containing binary data.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000031">Deprecated:</a></b></dt><dd>Using the C++ iostream class is deprecated.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>os</em>&nbsp;</td><td>Write the MIME header to this stream. </td></tr>
    <tr><td valign=top><em>type</em>&nbsp;</td><td>The type of the response (i.e., is it data, et cetera). </td></tr>
    <tr><td valign=top><em>ver</em>&nbsp;</td><td>The version of the server. </td></tr>
    <tr><td valign=top><em>enc</em>&nbsp;</td><td>Indicates an encoding was applied to the response payload. Used primarily to tell clients they need to decompress the payload. </td></tr>
    <tr><td valign=top><em>last_modified</em>&nbsp;</td><td>A RFC 822 date which gives the time the information in the repsonse payload was last changed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="ObjectType_8h.html#a6">ObjectType</a> <p>
<a class="el" href="EncodingType_8h.html#a3">EncodingType</a> <p>
<a class="el" href="classDDS.html">DDS</a> </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00642">642</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="EncodingType_8h.html#a3a2">x_plain</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="cgi_util.h::set_mime_error" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>reason</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>version</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate an HTTP 1.0 reponse header for an <a class="el" href="classError.html">Error</a> object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>out</em>&nbsp;</td><td>Write the MIME header to this FILE pointer. </td></tr>
    <tr><td valign=top><em>code</em>&nbsp;</td><td>HTTP 1.0 response code. Should be 400, ... 500, ... </td></tr>
    <tr><td valign=top><em>reason</em>&nbsp;</td><td>Reason string of the HTTP 1.0 reponse header. </td></tr>
    <tr><td valign=top><em>version</em>&nbsp;</td><td>The version string; denotes the DAP spec and implementation version. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00671">671</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="config__dap_8h-source.html#l00055">DVR</a>, <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="das-test_8cc-source.html#l00066">version</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="cgi_util.h::set_mime_error" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_error </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ostream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>os</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>code</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>reason</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>version</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to create a MIME header for a message signaling an error.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000032">Deprecated:</a></b></dt><dd>Using the C++ iostream class is deprecated.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>os</em>&nbsp;</td><td>Write the MIME header to this stream. </td></tr>
    <tr><td valign=top><em>code</em>&nbsp;</td><td>An error code for the given error. </td></tr>
    <tr><td valign=top><em>reason</em>&nbsp;</td><td>A message to be sent to the client. </td></tr>
    <tr><td valign=top><em>version</em>&nbsp;</td><td>The DAP spec/implementation version string. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="cgi__util_8h.html#a4">ErrMsgT</a> </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00696">696</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="config__dap_8h-source.html#l00055">DVR</a>, <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="das-test_8cc-source.html#l00066">version</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="cgi_util.h::set_mime_not_modified" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_not_modified </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>out</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to create a response signalling that the target of a conditional get has not been modified relative to the condition given in the request. For DODS this will have to be a date until the servers support ETags<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>out</em>&nbsp;</td><td>Write the response to this FILE pointer. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00718">718</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>.
<p>
Referenced by <a class="el" href="DODSFilter_8cc-source.html#l00616">DODSFilter::send_das()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00782">DODSFilter::send_data()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00665">DODSFilter::send_dds()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="cgi_util.h::set_mime_not_modified" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_not_modified </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ostream &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>os</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to create a response signalling that the target of a conditional get has not been modified relative to the condition given in the request. For DODS this will have to be a date until the servers support ETags<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000033">Deprecated:</a></b></dt><dd>Using the C++ iostream class is deprecated. Send a `Not Modified' response.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>os</em>&nbsp;</td><td>Write the MIME header to this stream. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00735">735</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="cgi_util.h::set_mime_text" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_text </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>out</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="ObjectType_8h.html#a6">ObjectType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="EncodingType_8h.html#a3">EncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>enc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const time_t&nbsp;</td>
          <td class="mdname" nowrap> <em>last_modified</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate an HTTP 1.0 response header for a text document. This is used when returning a serialized <a class="el" href="classDAS.html">DAS</a> or <a class="el" href="classDDS.html">DDS</a> object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>out</em>&nbsp;</td><td>Write the MIME header to this FILE pointer. </td></tr>
    <tr><td valign=top><em>type</em>&nbsp;</td><td>The type of this this response. Defaults to application/octet-stream. </td></tr>
    <tr><td valign=top><em>ver</em>&nbsp;</td><td>The version string; denotes the DAP spec and implementation version. </td></tr>
    <tr><td valign=top><em>enc</em>&nbsp;</td><td>How is this response encoded? Can be plain or deflate or the x_... versions of those. Default is x_plain. </td></tr>
    <tr><td valign=top><em>last_modified</em>&nbsp;</td><td>The time to use for the Last-Modified header value. Default is zero which means use the current time. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00522">522</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="ObjectType_8h.html#a6a4">dods_error</a>, <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="EncodingType_8h.html#a3a2">x_plain</a>.
<p>
Referenced by <a class="el" href="server__handler_8cc-source.html#l00066">main()</a>, <a class="el" href="DODSFilter_8cc-source.html#l00616">DODSFilter::send_das()</a>, and <a class="el" href="DODSFilter_8cc-source.html#l00665">DODSFilter::send_dds()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="cgi_util.h::set_mime_text" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void set_mime_text </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ostream &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>os</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="ObjectType_8h.html#a6">ObjectType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>type</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>ver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="EncodingType_8h.html#a3">EncodingType</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>enc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const time_t&nbsp;</td>
          <td class="mdname" nowrap> <em>last_modified</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Use this function to create a MIME header for a text message.<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000030">Deprecated:</a></b></dt><dd>Using the C++ iostream class is deprecated. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>os</em>&nbsp;</td><td>Write the MIME header to this stream. </td></tr>
    <tr><td valign=top><em>type</em>&nbsp;</td><td>The type of the response (i.e., is it a <a class="el" href="classDAS.html">DAS</a>, <a class="el" href="classDDS.html">DDS</a>, et cetera). </td></tr>
    <tr><td valign=top><em>ver</em>&nbsp;</td><td>The version of the server. </td></tr>
    <tr><td valign=top><em>enc</em>&nbsp;</td><td>Indicates an encoding was applied to the response payload. Used primarily to tell clients they need to decompress the payload. </td></tr>
    <tr><td valign=top><em>last_modified</em>&nbsp;</td><td>A RFC 822 date which gives the time the information in the repsonse payload was last changed. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="ObjectType_8h.html#a6">ObjectType</a> <p>
<a class="el" href="EncodingType_8h.html#a3">EncodingType</a> <p>
<a class="el" href="classConnect.html">Connect</a> </dd></dl>

<p>
Definition at line <a class="el" href="cgi__util_8cc-source.html#l00564">564</a> of file <a class="el" href="cgi__util_8cc-source.html">cgi_util.cc</a>.
<p>
References <a class="el" href="ObjectType_8h.html#a6a4">dods_error</a>, <a class="el" href="cgi__util_8cc-source.html#l00461">rfc822_date()</a>, and <a class="el" href="EncodingType_8h.html#a3a2">x_plain</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Feb 4 23:43:31 2004 for libdap++ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
